(this["webpackJsonpCRM SOFITECH "]=this["webpackJsonpCRM SOFITECH "]||[]).push([[0],{127:function(e,t,c){},140:function(e){e.exports=JSON.parse('[{"TYPE":"Investissement productif","NOM":"Investissement productif, Renouvellement d\u2019\xe9quipements usag\xe9s ou obsol\xe8tes"},{"TYPE":"Investissement productif","NOM":"Investissement productif, Extension de la capacit\xe9 de production"},{"TYPE":"Investissement productif","NOM":"Investissement productif, Modernisation des \xe9quipements et installations"},{"TYPE":"Investissement productif","NOM":"Investissement productif, D\xe9carbonation, Economie d\u2019Energie, Environnement"},{"TYPE":"Investissement productif","NOM":"Investissement productif,Mise aux normes, s\xe9curit\xe9"},{"TYPE":"Investissement non productif","NOM":"Assurance-cr\xe9dit"},{"TYPE":"Investissement non productif","NOM":"BFR"},{"TYPE":"Investissement non productif","NOM":"Factor"},{"TYPE":"Investissement non productif","NOM":"Investissement non productif"}]')},141:function(e){e.exports=JSON.parse('[{"TYPE":"UIMM","NOM":"UIMM"},{"TYPE":"GIM","NOM":"GIM"},{"TYPE":"France CHIMIE","NOM":"France CHIMIE"},{"TYPE":"FIM","NOM":"ARTEMA"},{"TYPE":"FIM","NOM":"AXEMA"},{"TYPE":"FIM","NOM":"EVOLIS"},{"TYPE":"FIM","NOM":"FABRILABO"},{"TYPE":"FIM","NOM":"FEDERATION FORGE FONDERIE"},{"TYPE":"FIM","NOM":"FFMI"},{"TYPE":"FIM","NOM":"FIM-AC"},{"TYPE":"FIM","NOM":"FIM METAUX EN FEUILLES"},{"TYPE":"FIM","NOM":"FIM RESSORTS"},{"TYPE":"FIM","NOM":"PHOTONICS"},{"TYPE":"FIM","NOM":"SIBCO"},{"TYPE":"FIM","NOM":"SM"},{"TYPE":"FIM","NOM":"SNCT"},{"TYPE":"FIM","NOM":"SNDEC"},{"TYPE":"FIM","NOM":"SNITEM"},{"TYPE":"FIM","NOM":"SYMOP"},{"TYPE":"FIM","NOM":"SYNEG"},{"TYPE":"FIM","NOM":"UITS"},{"TYPE":"FIM","NOM":"UNICLIMA"},{"TYPE":"FIM","NOM":"UNIQ"},{"TYPE":"FIM","NOM":"UNITAM"},{"TYPE":"FIEEC","NOM":"ACN"},{"TYPE":"FIEEC","NOM":"ACR"},{"TYPE":"FIEEC","NOM":"ACSIEL"},{"TYPE":"FIEEC","NOM":"AFNUM"},{"TYPE":"FIEEC","NOM":"E-VISIONS"},{"TYPE":"FIEEC","NOM":"FGME"},{"TYPE":"FIEEC","NOM":"GIFAM"},{"TYPE":"FIEEC","NOM":"GIL"},{"TYPE":"FIEEC","NOM":"FFGME"},{"TYPE":"FIEEC","NOM":"IGNES"},{"TYPE":"FIEEC","NOM":"SER"},{"TYPE":"FIEEC","NOM":"SIRMELEC"},{"TYPE":"FIEEC","NOM":"SNESE"},{"TYPE":"FIEEC","NOM":"SPAP"},{"TYPE":"FIEEC","NOM":"SPDEI"},{"TYPE":"FIEEC","NOM":"SYCABEL"},{"TYPE":"FIEEC","NOM":"Syndicat de l\'\xe9clairage"},{"TYPE":"GIFAS","NOM":"GIFAS"},{"TYPE":"AMICS-EPI","NOM":"AMICS-EPI"},{"TYPE":"POLYVIA","NOM":"POLYVIA"},{"TYPE":"FEDEREC","NOM":"FEDEREC"},{"TYPE":"Fondeurs de France","NOM":"Fondeurs de France"},{"TYPE":"MEDEF","NOM":"MEDEF"},{"TYPE":"AUTRE","NOM":"Autre"}]')},142:function(e){e.exports=JSON.parse('[{"TYPE":"ORIGINE DU PROSPECT","NOM":"Prospection Sofitech"},{"TYPE":"ORIGINE DU PROSPECT","NOM":"Prospection cemeca"},{"TYPE":"ORIGINE DU PROSPECT","NOM":"Partenaire"},{"TYPE":"ORIGINE DU PROSPECT","NOM":"Cr\xe9dit Coop\xe9ratif"},{"TYPE":"ORIGINE DU PROSPECT","NOM":"Syndicat"},{"TYPE":"ORIGINE DU PROSPECT","NOM":"Suivi client"}]')},198:function(e,t,c){},225:function(e){e.exports=JSON.parse('[{"icon":"bx bx-user","content":"Profile"},{"icon":"bx bx-wallet-alt","content":"My Wallet"},{"icon":"bx bx-cog","content":"Settings"},{"icon":"bx bx-log-out-circle bx-rotate-180","content":"Logout"}]')},232:function(e){e.exports=JSON.parse("[]")},233:function(e){e.exports=JSON.parse('[{"TYPE":"DGB","NOM":"AGEN"},{"TYPE":"DGB","NOM":"BAYONNE"},{"TYPE":"DGB","NOM":"BORDEAUX GARONNE"},{"TYPE":"DGB","NOM":"BORDEAUX MERIGNIAC"},{"TYPE":"DGB","NOM":"BRIVE LA GAILLARDE"},{"TYPE":"DGB","NOM":"DAX"},{"TYPE":"DGB","NOM":"LA ROCHELLE"},{"TYPE":"DGB","NOM":"LIMOGES"},{"TYPE":"DGB","NOM":"NIORT"},{"TYPE":"DGB","NOM":"PAU"},{"TYPE":"DGB","NOM":"POITIERS"},{"TYPE":"DGB","NOM":"SARLATE LA CANEDA"},{"TYPE":"DGB","NOM":"E-AGENCE DE BORDEAUX "},{"TYPE":"DGL","NOM":"ANNECY"},{"TYPE":"DGL","NOM":"BESANCON"},{"TYPE":"DGL","NOM":"CHAMELIERES"},{"TYPE":"DGL","NOM":"DIJON"},{"TYPE":"DGL","NOM":"GRENOBLE"},{"TYPE":"DGL","NOM":"GRENOBLE MINISTRAL"},{"TYPE":"DGL","NOM":"ISLE D\'ABEAU"},{"TYPE":"DGL","NOM":"LE PUYE EN VELAY "},{"TYPE":"DGL","NOM":"LYON LYAUTEY"},{"TYPE":"DGL","NOM":"LYON PAR DIEU"},{"TYPE":"DGL","NOM":"LYONN SAXE"},{"TYPE":"DGL","NOM":"SAINT ETIENNNE"},{"TYPE":"DGL","NOM":"VALENCE"},{"TYPE":"DGM","NOM":"AIX EN PROVENCE "},{"TYPE":"DGM","NOM":"AVIGNON"},{"TYPE":"DGM","NOM":"CARCASSONNE"},{"TYPE":"DGM","NOM":"MARSEILLE PRADO"},{"TYPE":"DGM","NOM":"MONTPELLIER"},{"TYPE":"DGM","NOM":"NICE"},{"TYPE":"DGM","NOM":"NIMES"},{"TYPE":"DGM","NOM":"TOULON"},{"TYPE":"DGM","NOM":"TOULOUSE"},{"TYPE":"DGNEC","NOM":"AMIENS"},{"TYPE":"DGNEC","NOM":"ARRAS"},{"TYPE":"DGNEC","NOM":"DUNKERQUE"},{"TYPE":"DGNEC","NOM":"LILLE CENTRE"},{"TYPE":"DGNEC","NOM":"METZE"},{"TYPE":"DGNEC","NOM":"NANCY"},{"TYPE":"DGNEC","NOM":"ORLEANS"},{"TYPE":"DGNEC","NOM":"REIMS"},{"TYPE":"DGNEC","NOM":"STARBOURG"},{"TYPE":"DGNEC","NOM":"TOURS"},{"TYPE":"DGO","NOM":" ANGERS"},{"TYPE":"DGO","NOM":"CAEN"},{"TYPE":"DGO","NOM":"LE HAVRE"},{"TYPE":"DGO","NOM":"LE MANS"},{"TYPE":"DGO","NOM":"LORIENT"},{"TYPE":"DGO","NOM":"NANTES"},{"TYPE":"DGO","NOM":"QUIMPER"},{"TYPE":"DGO","NOM":"BREST"},{"TYPE":"DGO","NOM":"RENNES"},{"TYPE":"DGO","NOM":"ROUEN"},{"TYPE":"DGO","NOM":"E-AGENCE DE ROUEN"},{"TYPE":"DGP","NOM":"CERGY"},{"TYPE":"DGP","NOM":"EVRY"},{"TYPE":"DGP","NOM":"MAISON-ALFORT"},{"TYPE":"DGP","NOM":"MASSY"},{"TYPE":"DGP","NOM":"MELUN"},{"TYPE":"DGP","NOM":"NANTERRE LA DEFENSE"},{"TYPE":"DGP","NOM":"LOGNES"},{"TYPE":"DGP","NOM":"PARIS ALESIA"},{"TYPE":"DGP","NOM":"PARIS CONVENTION"},{"TYPE":"DGP","NOM":"PARIS COURCELLES"},{"TYPE":"DGP","NOM":"PARIS NATION"},{"TYPE":"DGP","NOM":"PARIS GARE DE L\'EST"},{"TYPE":"DGP","NOM":"PARIS ODEON"},{"TYPE":"DGP","NOM":"PARIS OPERA"},{"TYPE":"DGP","NOM":"SAINT DENIS"},{"TYPE":"DGP","NOM":"VERSAILLES"},{"TYPE":"DGP","NOM":"CENTRE D\'AFFAIRES PESARO"},{"TYPE":"DGP","NOM":"E-AGENCE DE PARIS"},{"TYPE":"DGP","NOM":"E-AGENCE DU PERSONNEL"}]')},234:function(e){e.exports=JSON.parse('[{"TYPE":"Produits de l\'agriculture, de la sylviculture et de la p\xeache","NOM":"Produits de l\'agriculture, de la sylviculture et de la p\xeache"},{"TYPE":"Produits des industries extractives","NOM":"Produits des industries extractives"},{"TYPE":"Produits manufactur\xe9s :","NOM":"Outillage"},{"TYPE":"Produits manufactur\xe9s :","NOM":"Instruments et appareils de mesure, d\'essai et de navigation"},{"TYPE":"Produits manufactur\xe9s :","NOM":"Mat\xe9riels \xe9lectriques (dont \xe9quipements de soudage) "},{"TYPE":"Produits manufactur\xe9s :","NOM":"Pompes et compresseurs"},{"TYPE":"Produits manufactur\xe9s :","NOM":"Articles de robinetterie"},{"TYPE":"Produits manufactur\xe9s :","NOM":"Mat\xe9riel de levage et de manutention"},{"TYPE":"Produits manufactur\xe9s :","NOM":"Machines d\u2019usinage et de formage des m\xe9taux"},{"TYPE":"Produits manufactur\xe9s :","NOM":"Autres machines-outils"},{"TYPE":"Produits manufactur\xe9s :","NOM":"Machines pour l\'extraction ou la construction"},{"TYPE":"Produits manufactur\xe9s :","NOM":"Machines pour les industries du papier et du carton"},{"TYPE":"Produits manufactur\xe9s :","NOM":"Autres machines et \xe9quipements "},{"TYPE":"Produits manufactur\xe9s :","NOM":"Machines pour les industries du papier et du carton"},{"TYPE":"Produits manufactur\xe9s :","NOM":"Autres produits manufactur\xe9s (e.g. mat\xe9riels de transport, informatiques, \xe9lectroniques\u2026)"},{"TYPE":"\xc9lectricit\xe9, gaz, vapeur et air conditionn\xe9","NOM":"\xc9lectricit\xe9, gaz, vapeur et air conditionn\xe9"},{"TYPE":"Production et distribution d\'eau ; assainissement, gestion des d\xe9chets et d\xe9pollution","NOM":"Production et distribution d\'eau ; assainissement, gestion des d\xe9chets et d\xe9pollution"},{"TYPE":"Commerce ; r\xe9paration d\'automobiles et de motocycles","NOM":"Commerce ; r\xe9paration d\'automobiles et de motocycles"},{"TYPE":"Constructions et travaux de construction","NOM":"Constructions et travaux de construction"},{"TYPE":"Services de transport et d\'entreposage","NOM":"Services de transport et d\'entreposage"}]')},235:function(e){e.exports=JSON.parse('[{"TYPE":"Fonction","NOM":"PDG / G\xe9rant"},{"TYPE":"Fonction","NOM":"DG"},{"TYPE":"Fonction","NOM":"DAF"},{"TYPE":"Fonction","NOM":"Directeur de Site"},{"TYPE":"Fonction","NOM":"Responsable comptable"},{"TYPE":"Fonction","NOM":"Directeur Technique"}]')},275:function(e,t,c){},276:function(e,t,c){},277:function(e,t,c){},278:function(e,t,c){},279:function(e,t,c){},280:function(e,t,c){},304:function(e,t,c){},305:function(e,t,c){},307:function(e,t,c){},423:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(23),r=c.n(s),i=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,565)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))},o=c(129),l=c(58),d=c(12),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MODE":return Object(d.a)(Object(d.a)({},e),{},{mode:t.payload});case"SET_COLOR":return Object(d.a)(Object(d.a)({},e),{},{color:t.payload});default:return e}},u=Object(o.a)({ThemeReducer:j}),b=(c(274),c(275),c(276),c(277),c(278),c(279),c(3)),O=(c(280),c(42)),h=c(37),m=c(19),x=c.n(m),f="".concat("http://localhost:8080","/api/auth/"),p=new(function(){function e(){Object(O.a)(this,e)}return Object(h.a)(e,[{key:"login",value:function(e,t){return x.a.post(f+"signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&sessionStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"twoFactorAuth",value:function(e,t){return x.a.post(f+"2fa",{username:e,verificationCode:t}).then((function(e){return e.data.accessToken&&sessionStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){sessionStorage.removeItem("user")}},{key:"runLogoutTimer",value:function(){var e=this;setTimeout((function(){e.logout()}),5e3)}},{key:"create_historique_auth",value:function(e,t,c){return x.a.post(f+"historique",{username:e,password:t,message:c})}},{key:"get_historique_auth",value:function(){return x.a.get(f+"list_historique")}},{key:"removeAll_historique_auth",value:function(){return x.a.delete(f+"list_historique")}},{key:"remove_historiqueremove",value:function(e){return x.a.delete(f+"list_historique/".concat(e))}},{key:"register",value:function(e,t,c,n){return x.a.post(f+"signup",{username:e,email:t,roles:c,password:n})}},{key:"getCurrentUser",value:function(){return JSON.parse(sessionStorage.getItem("user"))}},{key:"changePassword",value:function(e,t,c){return x.a.post(f+"change-password",{userId:e,oldPassword:t,newPassword:c})}},{key:"forgotPassword",value:function(e){return x.a.post(f+"reset-password",{email:e})}},{key:"resetPassword",value:function(e,t){return x.a.post(f+"modifier-password",{resetToken:e,newPassword:t})}}]),e}()),v={display_name:"Interlocuteur",route:"/Interl",icon:"bx bx-user-pin",status:"active"},g={display_name:"Activit\xe9 commerciale",route:"/AllAction",icon:"bx bxs-edit-alt",status:"active"},N={display_name:"Gestion Utilisateur",route:"/Register",icon:"bx bxs-user-plus",status:"active"},_={display_name:"Tableau de bord",route:"/",icon:"bx bx-category-alt",status:"active"},E={display_name:"Nouvelle Soci\xe9t\xe9",route:"/Ajouter",icon:"bx bxs-folder-plus",status:"active"},S={display_name:"Soci\xe9t\xe9s",route:"/Societes",icon:"bx bxs-bank",status:"active"},y={display_name:"Login",route:"/login",icon:"bx bxs-bank",status:"active"},P={display_name:"Admin",route:"/admin",icon:"bx bx-cool",status:"active"};function C(){var e=JSON.parse(sessionStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}var M="".concat("http://localhost:8080","/api/test/"),w=new(function(){function e(){Object(O.a)(this,e)}return Object(h.a)(e,[{key:"getListe_User",value:function(){return x.a.get(M+"liste_user",{headers:C()})}},{key:"getPublicContent",value:function(){return x.a.get(M+"all")}},{key:"getCemecaBoard",value:function(){return x.a.get(M+"cemeca",{headers:C()})}},{key:"getSofitechBoard",value:function(){return x.a.get(M+"sofitech",{headers:C()})}},{key:"getModeratorBoard",value:function(){return x.a.get(M+"mod",{headers:C()})}},{key:"getAdminBoard",value:function(){return x.a.get(M+"admin-societe",{headers:C()})}}]),e}()),T=function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),c=t[0],a=t[1];return w.getAdminBoard().then((function(){a(!0)}),(function(e){a(!1)})),c},A=function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),c=t[0],a=t[1];return w.getSofitechBoard().then((function(){a(!0)}),(function(e){a(!1)})),c},D=function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),c=t[0],a=t[1];return w.getCemecaBoard().then((function(){a(!0)}),(function(e){a(!1)})),c},I=c(0),Y=function(e){var t=e.active?"active":"";return Object(I.jsx)("div",{disabled:!0,className:"sidebar__item",children:Object(I.jsxs)("div",{disabled:!0,className:"sidebar__item-inner ".concat(t),children:[Object(I.jsx)("i",{className:e.icon}),Object(I.jsxs)("span",{children:[e.title,e.status]})]})})},R=c(32),F=c.p+"static/media/sofitech.28261e02.png",k=function(e){return Object(I.jsx)(I.Fragment,{children:e.actItem.map((function(t,c){return Object(I.jsx)(R.b,{to:t.route,children:Object(I.jsx)(Y,{title:t.display_name,icon:t.icon,active:c===e.activeItem2||c===e.activeItem},c)},c)}))})},L=function(e){return Object(I.jsx)(I.Fragment,{children:function(){if(!0===e.mysofitech)return Object(I.jsx)("img",{src:F,alt:"company logo"})}()})},G=function(e){var t=e.active?"active":"";return Object(I.jsx)(I.Fragment,{children:e.user?Object(I.jsx)("div",{children:Object(I.jsx)("div",{className:"sidebar__item",children:Object(I.jsxs)("div",{className:"sidebar__item-inner".concat(t),children:[Object(I.jsx)("i",{className:"bx bxs-log-out"}),Object(I.jsx)("a",{href:"/login",className:"nav-link",onClick:function(){p.logout()},children:"D\xe9connexion"})]})})}):Object(I.jsx)("div",{className:"sidebar__item"})})},V=function(e){var t=p.getCurrentUser(),c=Object(n.useState)([]),a=Object(b.a)(c,2),s=a[0],r=a[1],i=T(),o=A(),l=window.location.href.slice(21,28),d=s.findIndex((function(t){return t.route.includes(e.location.pathname)})),j=s.findIndex((function(e){return e.route===l})),u=s.filter((function(e){return"active"===e.status}));Object(n.useEffect)((function(){O()}),[i,o]);var O=function(){if(t){if(i&&o){var e=[];e.push(_,E,S,g,v,P,N),r(e)}else if(o&&!i){var c=[];c.push(_,E,S,g,v),r(c)}}else{var n=[];n.push(y),r(n)}};return Object(I.jsxs)("div",{className:"sidebar",children:[Object(I.jsx)("div",{className:"sidebar__logo",children:Object(I.jsx)(L,{mysofitech:o})}),Object(I.jsx)(k,{actItem:u,activeItem2:j,activeItem:d}),Object(I.jsx)(G,{user:t})]})},U=(c(198),c(304),function(e){var t,c,a=Object(n.useRef)(null),s=Object(n.useRef)(null);return t=s,c=a,document.addEventListener("mousedown",(function(e){c.current&&c.current.contains(e.target)?t.current.classList.toggle("active"):t.current&&!t.current.contains(e.target)&&t.current.classList.remove("active")})),Object(I.jsxs)("div",{className:"dropdown",children:[Object(I.jsxs)("button",{ref:a,className:"dropdown__toggle",children:[e.icon?Object(I.jsx)("i",{className:e.icon}):"",e.badge?Object(I.jsx)("span",{className:"dropdown__toggle-badge",children:e.badge}):"",e.customToggle?e.customToggle():""]}),Object(I.jsxs)("div",{ref:s,className:"dropdown__content",children:[e.contentData&&e.renderItems?e.contentData.map((function(t,c){return e.renderItems(t,c)})):"",e.renderFooter?Object(I.jsx)("div",{className:"dropdown__footer",children:e.renderFooter()}):""]})]})}),B=(c(305),{setColor:function(e){return{type:"SET_COLOR",payload:e}},setMode:function(e){return{type:"SET_MODE",payload:e}},getTheme:function(){return{type:"GET_THEME"}}}),W=[{id:"light",name:"Light",background:"light-background",class:"theme-mode-light"},{id:"dark",name:"Dark",background:"dark-background",class:"theme-mode-dark"}],z=[{id:"blue",name:"Blue",background:"blue-color",class:"theme-color-blue"},{id:"red",name:"Red",background:"red-color",class:"theme-color-red"},{id:"cyan",name:"Cyan",background:"cyan-color",class:"theme-color-cyan"},{id:"green",name:"Green",background:"green-color",class:"theme-color-green"},{id:"orange",name:"Orange",background:"orange-color",class:"theme-color-orange"}],H=function(){var e,t,c=p.getCurrentUser(),a=Object(n.useRef)(null),s=Object(n.useRef)(null);e=a,t=s,document.addEventListener("mousedown",(function(c){t.current&&t.current.contains(c.target)?e.current.classList.toggle("active"):e.current&&!e.current.contains(c.target)&&e.current.classList.remove("active")}));var r=Object(n.useState)("light"),i=Object(b.a)(r,2),o=i[0],d=i[1],j=Object(n.useState)("blue"),u=Object(b.a)(j,2),O=u[0],h=u[1],m=Object(l.b)();return Object(n.useEffect)((function(){var e=W.find((function(e){return e.class===localStorage.getItem("themeMode","theme-mode-light")})),t=z.find((function(e){return e.class===localStorage.getItem("colorMode","theme-mode-light")}));void 0!==e&&d(e.id),void 0!==t&&h(t.id)}),[]),Object(I.jsx)("div",{children:c?Object(I.jsxs)("div",{children:[Object(I.jsx)("button",{ref:s,className:"dropdown__toggle",onClick:function(){return a.current.classList.add("active")},children:Object(I.jsx)("i",{className:"bx bx-palette"})}),Object(I.jsxs)("div",{ref:a,className:"theme-menu",children:[Object(I.jsx)("h4",{children:"Theme settings"}),Object(I.jsx)("button",{className:"theme-menu__close",onClick:function(){return a.current.classList.remove("active")},children:Object(I.jsx)("i",{className:"bx bx-x"})}),Object(I.jsxs)("div",{className:"theme-menu__select",children:[Object(I.jsx)("span",{children:"Choose mode"}),Object(I.jsx)("ul",{className:"mode-list",children:W.map((function(e,t){return Object(I.jsxs)("li",{onClick:function(){return d((t=e).id),localStorage.setItem("themeMode",t.class),void m(B.setMode(t.class));var t},children:[Object(I.jsx)("div",{className:"mode-list__color ".concat(e.background," ").concat(e.id===o?"active":""),children:Object(I.jsx)("i",{className:"bx bx-check"})}),Object(I.jsx)("span",{children:e.name})]},t)}))})]}),Object(I.jsxs)("div",{className:"theme-menu__select",children:[Object(I.jsx)("span",{children:"Choose color"}),Object(I.jsx)("ul",{className:"mode-list",children:z.map((function(e,t){return Object(I.jsxs)("li",{onClick:function(){return h((t=e).id),localStorage.setItem("colorMode",t.class),void m(B.setColor(t.class));var t},children:[Object(I.jsx)("div",{className:"mode-list__color ".concat(e.background," ").concat(e.id===O?"active":""),children:Object(I.jsx)("i",{className:"bx bx-check"})}),Object(I.jsx)("span",{children:e.name})]},t)}))})]})]})]}):Object(I.jsx)("div",{})})},q=c(225),J="".concat("http://localhost:8080","/api/auth/"),X=new(function(){function e(){Object(O.a)(this,e),this.update=function(e,t){return x.a.put(J+"action/update/".concat(e),t)}}return Object(h.a)(e,[{key:"create",value:function(e){return x.a.post(J+"action",e)}},{key:"findAll",value:function(){return x.a.get(J+"action")}}]),e}()),K=c(107),Q=c.n(K),$=(c(68),{username:"pas de user"}),Z=p.getCurrentUser(),ee=function(e){var t=Object(n.useState)(void 0),c=Object(b.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)([]),i=Object(b.a)(r,2),o=i[0],l=i[1],d=A();Object(n.useEffect)((function(){var e=p.getCurrentUser();e&&(X.findAll().then((function(e){l(e.data)})).catch((function(e){console.log(e)})),s(e))}),[]),console.log(a);var j=new Date,u=864e5,O=o.filter((function(e){return(new Date(e.date_rdv)-j)/u<7&&(new Date(e.date_rdv)-j)/u>0})).filter((function(e){return e.id_utili===a.id}));return Object(I.jsx)("div",{children:Z&&d?Object(I.jsxs)("div",{className:"topnav",children:[Object(I.jsxs)("div",{className:"input-group mb-3",children:[function(){if(Z&&Z.passwordLastChanged){var e=new Date(a.passwordLastChanged),t=Math.ceil((new Date-e)/864e5);if(30-t<=7&&t>0)return 0===t?Object(I.jsx)("a",{href:"/change-password",className:"alert alert-warning",role:"alert",children:"Votre mot de passe expire demain."}):Object(I.jsxs)("a",{href:"/change-password",className:"alert alert-warning",role:"alert",children:["Votre mot de passe expirera dans ",30-t," jours."]});if(t>7)return Object(I.jsxs)("a",{href:"/change-password",className:"alert alert-success",role:"alert",children:["Votre mot de passe expirera dans ",t," jours."]})}return null}(),Object(I.jsx)("div",{className:"topnav",children:Object(I.jsx)("div",{className:""})})]}),Object(I.jsxs)("div",{className:"topnav__right",children:[Object(I.jsx)("div",{className:"topnav__right-item",children:a?Object(I.jsx)("div",{className:"sidebar__item",children:Object(I.jsxs)("div",{className:"sidebar__item-inner",children:[Object(I.jsx)("i",{className:"bx bxs-user-check"}),Object(I.jsx)("span",{children:a.username})]})}):Object(I.jsx)(U,{customToggle:function(){return e=$,Object(I.jsxs)("div",{className:"topnav__right-user",children:[Object(I.jsx)("div",{className:"topnav__right-user__image",children:Object(I.jsx)("img",{src:e.image,alt:""})}),Object(I.jsx)("div",{className:"topnav__right-user__name",children:e.display_name})]});var e},contentData:q,renderItems:function(e,t){return function(e,t){return Object(I.jsx)(R.b,{to:"/",children:Object(I.jsxs)("div",{className:"notification-item",children:[Object(I.jsx)("i",{className:e.icon}),Object(I.jsx)("span",{children:e.content})]})},t)}(e,t)}})}),Object(I.jsx)("div",{className:"topnav__right-item",children:Object(I.jsx)(U,{icon:"bx bx-bell",badge:O.length,contentData:O,renderItems:function(e,t){return function(e,t){return Object(I.jsxs)("div",{className:"notification-item",children:[Object(I.jsx)("i",{class:"bx bxs-notepad"}),Object(I.jsxs)("span",{children:[e.nom_societe," RDV:  ",Object(I.jsx)(Q.a,{fromNow:!0,children:e.date_rdv})]})]},t)}(e,t)}})}),Object(I.jsx)("div",{className:"topnav__right-item",children:Object(I.jsx)(H,{})})]})]}):Object(I.jsx)("div",{})})},te=c(36),ce=c(54),ne=c(34),ae=(c(307),function(e){return Object(I.jsxs)("div",{className:"status-card",children:[Object(I.jsx)("div",{className:"status-card__icon",children:Object(I.jsx)("i",{className:e.icon})}),Object(I.jsxs)("div",{className:"status-card__info",children:[Object(I.jsx)("h4",{children:e.count}),Object(I.jsx)("span",{children:e.title})]})]})}),se=c(555),re="".concat("http://localhost:8080","/api/auth/"),ie=function(){var e=Object(ce.a)(Object(te.a)().mark((function e(){var t;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get(re+"action");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(ce.a)(Object(te.a)().mark((function e(){var t;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post(re+"action");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),le={ActionListe:ie,ActionPost:oe},de="".concat("http://localhost:8080","/"),je=function(){var e=Object(ce.a)(Object(te.a)().mark((function e(){var t;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get(de+"cemeca");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:if(e.prev=7,e.t0=e.catch(0),403!==e.t0.response.status){e.next=13;break}return e.abrupt("return","Access denied");case 13:console.log("An error occurred",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(ce.a)(Object(te.a)().mark((function e(){var t;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get(de+"sofitech");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:if(e.prev=7,e.t0=e.catch(0),403!==e.t0.response.status){e.next=13;break}return e.abrupt("return","Access denied");case 13:console.log("An error occurred",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(ce.a)(Object(te.a)().mark((function e(){var t;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(de+"allsociete");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe={CemecaListe:je,SofitechListe:ue,AllSociete:be},he=c(546),me=c(550),xe=c(549),fe=c(545),pe=c(547),ve=c(548),ge=c(539),Ne=c(528),_e=c(540),Ee=function(e){var t=e.societeListe,c=e.myadmin,n=e.societe_util;return Object(I.jsxs)("div",{className:"card",children:[Object(I.jsx)("div",{className:"card__header",children:Object(I.jsx)("h3",{children:"Soci\xe9t\xe9"})}),Object(I.jsxs)("div",{children:[Object(I.jsx)(fe.a,{component:ge.a,children:Object(I.jsxs)(he.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(I.jsx)(pe.a,{children:Object(I.jsxs)(ve.a,{children:[Object(I.jsx)(xe.a,{align:"center",children:"Nom"}),Object(I.jsx)(xe.a,{align:"center",children:"Observation"}),Object(I.jsx)(xe.a,{align:"center",children:"Adresse postale"}),Object(I.jsx)(xe.a,{align:"center",children:"Date d'ajout"}),Object(I.jsx)(xe.a,{align:"center",children:"Statut"})]})}),Object(I.jsx)(me.a,{children:c?t.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map((function(e,t){return Object(I.jsxs)(ve.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(I.jsx)(xe.a,{align:"center",children:Object(I.jsx)("a",{href:"/Societe/".concat(e.siret),children:e.nom_soc})}),Object(I.jsx)(xe.a,{align:"center",children:e.observation}),Object(I.jsx)(xe.a,{align:"center",children:e.adresse_local}),Object(I.jsxs)(xe.a,{align:"center",children:[" ",Object(I.jsx)(Q.a,{fromNow:!0,children:e.createdAt})]}),1===e.app_cemeca&&Object(I.jsx)(xe.a,{align:"right",children:Object(I.jsx)(_e.a,{label:" Adh\xe9rent Cemeca",color:"primary"})}),1===e.app_sofitech&&Object(I.jsx)(xe.a,{align:"center",children:Object(I.jsx)(_e.a,{label:" Prospect Sofitech",color:"warning"})})]},t)})):n.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map((function(e,t){return Object(I.jsxs)(ve.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(I.jsx)(xe.a,{align:"center",children:Object(I.jsx)("a",{href:"/Societe/".concat(e.siret),children:e.nom_soc})}),Object(I.jsx)(xe.a,{align:"center",children:e.observation}),Object(I.jsx)(xe.a,{align:"center",children:e.adresse_local}),Object(I.jsxs)(xe.a,{align:"center",children:[" ",Object(I.jsx)(Q.a,{fromNow:!0,children:e.createdAt})]}),1===e.app_cemeca&&Object(I.jsx)(xe.a,{align:"right",children:Object(I.jsx)(_e.a,{label:" Adh\xe9rent Cemeca",color:"primary"})}),1===e.app_sofitech&&Object(I.jsx)(xe.a,{align:"center",children:Object(I.jsx)(_e.a,{label:" Prospect Sofitech",color:"warning"})})]},t)}))})]})}),Object(I.jsx)(Ne.a,{rowsPerPageOptions:[2,5,10],labelRowsPerPage:"lignes par page",component:"div",count:t.length,rowsPerPage:e.rowsPerPage,page:e.page,onPageChange:e.handleChangePage,onRowsPerPageChange:e.handleChangeRowsPerPage,labelDisplayedRows:function(e){var t=e.from,c=e.to,n=e.count;return"Affichage des pages ".concat(t,"-").concat(c," sur un total de  ").concat(n," pages")}})]}),Object(I.jsx)("div",{className:"card__footer",children:Object(I.jsx)(R.b,{to:"Societes",children:"Voir plus"})})]})},Se=c(38),ye=c.n(Se),Pe=function(e){var t=e.page2,c=e.handleChangePage2,n=e.handleChangeRowsPerPage2,a=e.Action,s=e.Action_util,r=e.rowsPerPage2,i=e.myadmin;return Object(I.jsxs)("div",{className:"card",children:[Object(I.jsx)("div",{className:"card__header",children:Object(I.jsx)("h3",{children:"Activit\xe9 commerciale"})}),Object(I.jsxs)("div",{children:[Object(I.jsx)(fe.a,{component:ge.a,children:Object(I.jsxs)(he.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(I.jsx)(pe.a,{children:Object(I.jsxs)(ve.a,{children:[Object(I.jsx)(xe.a,{align:"center",children:"Nom soci\xe9t\xe9"}),Object(I.jsx)(xe.a,{align:"center",children:"Date du RDV"}),Object(I.jsx)(xe.a,{align:"center",children:"Nom interlocuteur"}),Object(I.jsx)(xe.a,{align:"center",children:"Cr\xe9dit_cop"}),Object(I.jsx)(xe.a,{align:"center",children:"Etat"})]})}),Object(I.jsx)(me.a,{}),Object(I.jsx)(me.a,{children:i?a.slice(t*r,t*r+r).map((function(e,t){return Object(I.jsxs)(ve.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(I.jsx)(xe.a,{component:"th",scope:"row",children:Object(I.jsx)("a",{href:"/modifier/".concat(e.id),children:e.nom_societe})}),Object(I.jsx)(xe.a,{align:"center",children:ye()(e.date_rdv).format("DD  MMMM YYYY HH:mm")}),Object(I.jsx)(xe.a,{align:"center",children:e.nom_interlocuteur}),Object(I.jsxs)(xe.a,{align:"center",children:[" ",e.credit_cop]}),"realiser"===e.validation&&Object(I.jsx)(xe.a,{align:"center",children:Object(I.jsx)(_e.a,{label:"r\xe9alis\xe9",color:"success"})}),"non realiser"===e.validation&&Object(I.jsx)(xe.a,{align:"center",children:Object(I.jsx)(_e.a,{label:"Non r\xe9alis\xe9",color:"error"})})]},t)})):s.slice(t*r,t*r+r).map((function(e,t){return Object(I.jsxs)(ve.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(I.jsx)(xe.a,{component:"th",scope:"row",children:Object(I.jsx)("a",{href:"/modifier/".concat(e.id),children:e.nom_societe})}),Object(I.jsx)(xe.a,{align:"center",children:ye()(e.date_rdv).format("DD  MMMM YYYY HH:mm")}),Object(I.jsx)(xe.a,{align:"center",children:e.nom_interlocuteur}),Object(I.jsxs)(xe.a,{align:"center",children:[" ",e.type_action]}),"realiser"===e.validation&&Object(I.jsx)(xe.a,{align:"center",children:Object(I.jsx)(_e.a,{label:"r\xe9alis\xe9",color:"success"})}),"non realiser"===e.validation&&Object(I.jsx)(xe.a,{align:"center",children:Object(I.jsx)(_e.a,{label:"Non r\xe9alis\xe9",color:"error"})})]},t)}))})]})}),Object(I.jsx)(Ne.a,{rowsPerPageOptions:[2,5,10],labelRowsPerPage:"lignes par page",component:"div",count:s.length,rowsPerPage:r,page:t,onPageChange:c,onRowsPerPageChange:n,labelDisplayedRows:function(e){var t=e.from,c=e.to;e.count;return"Affichage des pages ".concat(t,"-").concat(c)}})]}),Object(I.jsx)("div",{className:"card__footer",children:Object(I.jsx)(R.b,{to:"AllAction",children:"Voir plus "})})]})},Ce=c(136),Me=c.n(Ce),we=function(e){var t=Object(l.c)((function(e){return e.ThemeReducer.mode})),c={series:[{name:"Action",data:e.tableau_action}],options:{color:["#6ab04c","#2980b9"],chart:{background:"transparent"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{categories:["JAN","F\xc9V","MAR","AVR","MAI","JUN","JUL","AO\xdb","SEP","OCT","NOV","D\xc9C"]},legend:{position:"top"},grid:{show:!1}}};return Object(I.jsx)("div",{className:"card full-height",children:Object(I.jsx)(Me.a,{options:"theme-mode-dark"===t?Object(d.a)(Object(d.a)({},c.options),{},{theme:{mode:"dark"}}):Object(d.a)(Object(d.a)({},c.options),{},{theme:{mode:"light"}}),series:c.series,type:"line",height:"100%"})})},Te=function(e){var t=Object(l.c)((function(e){return e.ThemeReducer.mode})),c={series:[{name:"Action",data:e.tableau_societe}],options:{color:["#6ab04c","#2980b9"],chart:{background:"transparent"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{categories:["JAN","F\xc9V","MAR","AVR","MAI","JUN","JUL","AO\xdb","SEP","OCT","NOV","D\xc9C"]},legend:{position:"top"},grid:{show:!1}}};return Object(I.jsx)("div",{className:"card full-height",children:Object(I.jsx)(Me.a,{options:"theme-mode-dark"===t?Object(d.a)(Object(d.a)({},c.options),{},{theme:{mode:"dark"}}):Object(d.a)(Object(d.a)({},c.options),{},{theme:{mode:"light"}}),series:c.series,type:"line",height:"100%"})})},Ae=c(526),De=c(536),Ie=c(238),Ye=c(551),Re=c(506),Fe=function(e){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("p",{children:"Date d\xe9but d'action"}),Object(I.jsx)(Ie.a,{dateAdapter:Re.a,children:Object(I.jsx)(Ye.a,{spacing:5,children:Object(I.jsx)(Ae.a,{value:e.valueDate1,onChange:e.handleChangeDate1,renderInput:function(e){return Object(I.jsx)(De.a,Object(d.a)({},e))}})})})]})},ke=function(e){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("p",{children:"Date fin d'action"}),Object(I.jsx)(Ie.a,{dateAdapter:Re.a,children:Object(I.jsx)(Ye.a,{spacing:5,children:Object(I.jsx)(Ae.a,{value:e.valueDate2,onChange:e.handleChangeDate2,renderInput:function(e){return Object(I.jsx)(De.a,Object(d.a)({},e))}})})})]})},Le=function(){var e=Object(ne.f)(),t=p.getCurrentUser(),c=T(),s=A(),r=D(),i=Object(n.useState)([]),o=Object(b.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)([]),u=Object(b.a)(j,2),O=u[0],h=u[1],m=O.filter((function(e){return e.id_utili===t.id}));O.sort((function(e,t){return new Date(t.date_rdv).getTime()-new Date(e.date_rdv).getTime()}));var x=l.filter((function(e){return e.id_utili===t.id}));l.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})),console.log(x),Object(n.useEffect)((function(){t&&(le.ActionListe().then((function(e){return h(e)})).catch((function(e){console.log("Error fetching data:",e),h(null)})),r&&Oe.CemecaListe().then((function(e){return d(e)})),s&&Oe.AllSociete().then((function(e){return d(e)})))}),[r,s]);var f=new Date;f.setMonth(f.getMonth()+1);for(var v=a.a.useState(""),g=Object(b.a)(v,2),N=g[0],_=g[1],E=a.a.useState(""),S=Object(b.a)(E,2),y=S[0],P=S[1],C=[],M=[],w=function(e){C.push(O.filter((function(t){return new Date(t.date_action).getMonth()===e})).length),M.push(l.filter((function(t){return new Date(t.createdAt).getMonth()===e})).length)},Y=0;Y<12;Y++)w(Y);var R=864e5,F=O.filter((function(e){return(new Date(e.date_rdv)-y)/R<0&&(new Date(e.date_rdv)-N)/R>0})),k=F.filter((function(e){return e.id_utili===t.id})),L=[{icon:"bx bxs-user-detail",count:{fltr_date:F}.fltr_date.length,title:"Activit\xe9s commerciales"}],G=function(e){return[{icon:"bx bx-line-chart",count:e.fltr_date.length,title:"Evolis"}]}({fltr_date:F}),V=function(e){return[{icon:"bx bxs-user-detail",count:e.filtre_date_Action_util1.length,title:"Activit\xe9s commerciales"}]}({filtre_date_Action_util1:k}),U=a.a.useState(10),B=Object(b.a)(U,2),W=B[0],z=B[1],H=a.a.useState(0),q=Object(b.a)(H,2),J=q[0],X=q[1],K=a.a.useState(10),Q=Object(b.a)(K,2),$=Q[0],Z=Q[1],ee=a.a.useState(0),te=Object(b.a)(ee,2),ce=te[0],re=te[1],ie=function(){!function(t){e.push({pathname:"/Evolis",state:{fltr_date:t}})}(F)};return console.log(F),Object(I.jsx)("div",{children:t?Object(I.jsxs)("div",{children:[Object(I.jsx)("h2",{className:"page-header",children:"Tableau de bord"}),Object(I.jsx)(se.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:Object(I.jsx)("div",{className:"row",children:Object(I.jsx)("div",{className:"col-6",children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)(Fe,{valueDate1:N,handleChangeDate1:function(e){_(e)}})}),Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)(ke,{valueDate2:y,handleChangeDate2:function(e){P(e)}})})]})})})}),Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)("div",{className:"row",children:Object(I.jsx)("div",{children:c?Object(I.jsxs)("div",{className:"row",children:[V.map((function(e,t){return Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)("a",{href:"AllAction",children:Object(I.jsx)(ae,{icon:e.icon,count:e.count,title:e.title})})},t)})),L.map((function(e,t){return Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)("a",{href:"AllAction",children:Object(I.jsx)(ae,{icon:e.icon,count:e.count,title:e.title})})},t)}))]}):Object(I.jsx)("div",{className:"row",children:V.map((function(e,t){return Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)("a",{href:"#",children:Object(I.jsx)(ae,{icon:e.icon,count:e.count,title:e.title})})},t)}))})})})}),Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)(we,{tableau_action:C})}),G.map((function(e,t){return Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)("div",{className:"row justify-content-md-center",children:Object(I.jsx)("div",{className:"col-4",children:Object(I.jsx)("button",{onClick:ie,children:Object(I.jsx)(ae,{icon:e.icon,title:e.title})})},t)})},t)})),Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)(Te,{tableau_societe:M})}),Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)(Ee,{handleChangeDate:function(e){X(e)},societeListe:l,societe_util:x,page:J,myadmin:c,rowsPerPage:W,handleChangeRowsPerPage:function(e){z(+e.target.value),X(0)}})}),Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)(Pe,{handleChangeDate2:function(e,t){re(t)},Action:O,Action_util:m,page2:ce,myadmin:c,rowsPerPage2:$,handleChangeRowsPerPage2:function(e){Z(+e.target.value),re(0)}})})]})]}):Object(I.jsx)("div",{className:"sidebar__item",children:Object(I.jsxs)("div",{disabled:!0,className:"sidebar__item-inner ",children:[Object(I.jsx)("i",{className:"bx bxs-user-x"}),Object(I.jsx)("span",{children:"pas connecter"})]})})})},Ge=c(241),Ve=c(174),Ue=c(110),Be=c(173),We=c(175),ze=c(542),He=c(552),qe=c(517),Je=c(505),Xe=c(518),Ke=c(519),Qe=c(520),$e=c(521),Ze=c(503),et=c(522),tt=c(523),ct=c(504),nt=Object(qe.a)((function(e){return{table:{secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"}},tableContainer:{borderRadius:15,margin:"10px 10px",maxWidth:1350},tableHeaderCell:{sx:"4",fontWeight:"bold",backgroundColor:e.palette.primary.dark,color:e.palette.getContrastText(e.palette.secondary.dark)},avatar:{backgroundColor:e.palette.primary.light,color:e.palette.getContrastText(e.palette.primary.light)},name:{fontWeight:"bold",color:e.palette.secondary.dark},status:{fontWeight:"bold",fontSize:"0.75rem",color:"white",backgroundColor:"grey",borderRadius:8,display:"inline-block"}}})),at=a.a.forwardRef((function(e,t){var c=e.icon,n=Object(b.a)(c.icon,5),a=n[0],s=n[1],r=n[4];return Object(I.jsx)(Ge.a,{ref:t,viewBox:"0 0 ".concat(a," ").concat(s),children:"string"===typeof r?Object(I.jsx)("path",{d:r}):r.map((function(e,t){return Object(I.jsx)("path",{style:{opacity:0===t?.4:1},d:e})}))})}));var st=function(){var e=nt(),t=p.getCurrentUser(),c=a.a.useState(0),s=Object(b.a)(c,2),r=s[0],i=s[1],o=a.a.useState(10),l=Object(b.a)(o,2),j=l[0],u=l[1],O=Object(n.useState)([]),h=Object(b.a)(O,2),m=h[0],x=h[1],f=A(),v=D(),g=Object(n.useState)(""),N=Object(b.a)(g,2),_=N[0],E=N[1],S=Object(n.useState)(m),y=Object(b.a)(S,2),P=y[0],C=y[1];Object(n.useEffect)((function(){t&&(v&&Oe.CemecaListe().then((function(e){return x(e)})),f&&Oe.AllSociete().then((function(e){return x(e)})))}),[f,v,_]),Object(n.useEffect)((function(){m.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()}))}),[P]);var M={fontSize:"11px"};return Object(I.jsx)("div",{children:Object(I.jsxs)("div",{className:"list row",children:[Object(I.jsx)("h2",{className:" col-md-6 page-`header",children:"Liste des Soci\xe9t\xe9s"}),Object(I.jsx)("div",{className:"col-md-4 list",children:Object(I.jsx)("div",{className:"input-group mb-3",children:Object(I.jsx)("div",{className:"topnav",children:Object(I.jsxs)("div",{className:"topnav__search",children:[Object(I.jsx)("input",{type:"text",className:"form-control",placeholder:"Recherche ",value:_,onChange:function(e){var t=e.target.value;E(t);var c=m.filter((function(e){if(e.nom_soc.toLowerCase().includes(t.toLowerCase()))return e})),n=m.filter((function(e){if(String(e.code_postal).includes(t))return e})),a=m.filter((function(e){if(String(e.siret).includes(t))return e})),s=m.filter((function(e){if(String(e.siren).includes(t))return e}));0!==c.length&&(console.log(c),C(c)),0!==n.length&&(console.log(!0),C(n)),0!==a.length&&(console.log(!0),C(a)),0!==s.length&&(console.log(!0),C(s))}}),Object(I.jsx)("i",{className:"bx bx-search"})]})})})}),Object(I.jsxs)(Je.a,{sx:{width:"100%",overflow:"hidden"},children:[Object(I.jsx)(Xe.a,{sx:{maxHeight:550},children:Object(I.jsxs)(Ke.a,{sx:{minWidth:650},size:"small",stickyHeader:!0,"aria-label":"sticky table",children:[Object(I.jsx)(Qe.a,{children:Object(I.jsxs)($e.a,{children:[Object(I.jsx)(Ze.a,{style:M,children:"\ud83c\udfe2 Soci\xe9t\xe9"}),Object(I.jsx)(Ze.a,{align:"left",style:Object(d.a)(Object(d.a)({},M),{},{minWidth:50}),children:"\ud83d\udcee Adresse postale"}),Object(I.jsx)(Ze.a,{align:"left",style:Object(d.a)(Object(d.a)({},M),{},{minWidth:50}),children:"\ud83d\udc64 Interlocuteur"}),Object(I.jsx)(Ze.a,{align:"left",style:Object(d.a)(Object(d.a)({},M),{},{minWidth:50}),children:"\u2139\ufe0f Info"}),Object(I.jsx)(Ze.a,{align:"left",style:Object(d.a)(Object(d.a)({},M),{},{minWidth:50}),children:"\u2699\ufe0f Action"})]})}),Object(I.jsx)(et.a,{children:P.length?P.slice(r*j,r*j+j).map((function(t){return Object(I.jsxs)($e.a,{children:[Object(I.jsx)(Ze.a,{align:"left",style:Object(d.a)(Object(d.a)({},M),{},{minWidth:50}),children:Object(I.jsx)(tt.a,{container:!0,children:Object(I.jsxs)(tt.a,{item:!0,lg:10,children:[Object(I.jsxs)(ct.a,{className:e.name,color:"textSecondary",variant:"body2",children:[Object(I.jsx)("i",{class:"bx bxs-bank"}),Object(I.jsx)("a",{href:"/Societe/".concat(t.siret),children:t.nom_soc})]}),Object(I.jsx)(ct.a,{variant:"body3",children:t.siret})]})})}),Object(I.jsx)(Ze.a,{align:"left",style:Object(d.a)(Object(d.a)({},M),{},{minWidth:50}),children:Object(I.jsxs)(tt.a,{children:[Object(I.jsxs)(ct.a,{style:{minWidth:50},children:[t.code_postal," ",t.ville_soc," "]}),Object(I.jsx)(ct.a,{color:"textSecondary",variant:"body2",children:t.adresse_local})]})}),Object(I.jsx)(Ze.a,{align:"left",style:{minWidth:50},children:Object(I.jsx)(ze.a,{startIcon:Object(I.jsx)(We.a,{icon:Be.faUser}),href:"/Interlocuteur/".concat(t.siret),variant:"outlined",size:"small",children:" +"})}),Object(I.jsx)(Ze.a,{align:"left",style:{minWidth:50},children:Object(I.jsx)(He.a,{"aria-label":"Example",href:"/Societe/".concat(t.siret),children:Object(I.jsx)(at,{icon:Ue.faFile})})}),Object(I.jsx)(Ze.a,{align:"left",style:{minWidth:50},children:Object(I.jsx)(He.a,{"aria-label":"Example",href:"/Action/".concat(t.siret),children:Object(I.jsx)(at,{icon:Ve.faEllipsisV})})})]},t.name)})):m.slice(r*j,r*j+j).map((function(t){return Object(I.jsxs)($e.a,{children:[Object(I.jsx)(Ze.a,{align:"left",style:Object(d.a)(Object(d.a)({},M),{},{minWidth:50}),children:Object(I.jsx)(tt.a,{container:!0,children:Object(I.jsxs)(tt.a,{item:!0,lg:10,children:[Object(I.jsxs)(ct.a,{className:e.name,color:"textSecondary",variant:"body2",children:[Object(I.jsx)("i",{class:"bx bxs-bank"}),Object(I.jsx)("a",{href:"/Societe/".concat(t.siret),children:t.nom_soc})]}),Object(I.jsx)(ct.a,{variant:"body3",children:t.siret}),Object(I.jsx)(ct.a,{color:"textSecondary",variant:"body2",children:t.siren})]})})}),Object(I.jsx)(Ze.a,{align:"left",style:Object(d.a)(Object(d.a)({},M),{},{minWidth:50}),children:Object(I.jsxs)(tt.a,{children:[Object(I.jsxs)(ct.a,{style:Object(d.a)({},M),children:[t.code_postal," ",t.ville_soc," "]}),Object(I.jsx)(ct.a,{style:Object(d.a)({},M),color:"textSecondary",variant:"body2",children:t.adresse_local})]})}),Object(I.jsx)(Ze.a,{align:"left",style:Object(d.a)(Object(d.a)({},M),{},{minWidth:50}),children:Object(I.jsx)(ze.a,{startIcon:Object(I.jsx)(We.a,{icon:Be.faUser}),href:"/Interlocuteur/".concat(t.siret),variant:"outlined",size:"small",children:" +"})}),Object(I.jsx)(Ze.a,{align:"left",style:Object(d.a)(Object(d.a)({},M),{},{minWidth:50}),children:Object(I.jsx)(He.a,{"aria-label":"Example",href:"/Societe/".concat(t.siret),children:Object(I.jsx)(at,{icon:Ue.faFile})})}),Object(I.jsx)(Ze.a,{align:"left",style:Object(d.a)(Object(d.a)({},M),{},{minWidth:50}),children:Object(I.jsx)(He.a,{"aria-label":"Example",href:"/Action/".concat(t.siret),children:Object(I.jsx)(at,{icon:Ve.faEllipsisV})})})]},t.name)}))})]})}),Object(I.jsx)(Ne.a,{rowsPerPageOptions:[10,25,100],component:"div",count:m.length,rowsPerPage:j,page:r,onPageChange:function(e,t){i(t)},onRowsPerPageChange:function(e){u(+e.target.value),i(0)}})]})]})})},rt=c(17),it=c(28),ot=c.n(it),lt=c(25),dt=c.n(lt),jt=c(29),ut=c.n(jt),bt=c(230),Ot=new(Object(h.a)((function e(){Object(O.a)(this,e),this.required=function(e){if(!e)return Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},this.vemail=function(e){if(!Object(bt.isEmail)(e))return Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This is not a valid email."})},this.vrole=function(e){if(isNaN(e))return Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This is not a valid role."})},this.vusername=function(e){if(e.length<3||e.length>20)return Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The username must be between 3 and 20 characters."})},this.vpassword=function(e){if(e.length<6||e.length>40)return Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The password must be between 6 and 40 characters."})}}))),ht=c(562),mt=c(524),xt=function(e){var t=Object(qe.a)((function(e){return{table:{minWidth:200},tableContainer:{borderRadius:15,margin:"10px 10px",maxWidth:950},tableHeaderCell:{fontWeight:"bold",backgroundColor:e.palette.primary.dark,color:e.palette.getContrastText(e.palette.primary.dark)},avatar:{backgroundColor:e.palette.primary.light,color:e.palette.getContrastText(e.palette.primary.light)},name:{fontWeight:"bold",color:e.palette.secondary.dark},status:{fontWeight:"bold",fontSize:"0.75rem",color:"white",backgroundColor:"grey",borderRadius:8,padding:"3px 10px",display:"inline-block"}}})),c=Object(n.useState)([]),s=Object(b.a)(c,2),r=s[0],i=s[1],o=Object(n.useState)([]),l=Object(b.a)(o,2),d=l[0],j=l[1];Object(n.useRef)().current=d;var u=Object(n.useRef)(),O=Object(n.useRef)(),h=Ot.vrole,m=Ot.vusername,x=Ot.vpassword,f=Ot.vemail,v=Ot.required,g=Object(n.useState)(""),N=Object(b.a)(g,2),_=N[0],E=N[1],S=Object(n.useState)(""),y=Object(b.a)(S,2),P=y[0],C=y[1],M=Object(n.useState)([]),T=Object(b.a)(M,2),A=T[0],D=T[1],Y=Object(n.useState)(""),R=Object(b.a)(Y,2),F=R[0],k=R[1],L=Object(n.useState)(!1),G=Object(b.a)(L,2),V=G[0],U=G[1],B=Object(n.useState)(""),W=Object(b.a)(B,2),z=W[0],H=W[1];Object(n.useEffect)((function(){J(),q()}),[]);var q=function(){w.getListe_User().then((function(e){i(e.data)}))};console.log(w.getListe_User());var J=function(){p.get_historique_auth().then((function(e){j(e.data)}))};d.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()}));var X=t(),K=a.a.useState(0),Q=Object(b.a)(K,2),$=Q[0],Z=Q[1],ee=a.a.useState(10),te=Object(b.a)(ee,2),ce=te[0],ne=te[1],ae=function(e){Z(e)},se=function(e){ne(+e.target.value),Z(0)},re=function(e){var t=e.target.value;D([].concat(Object(rt.a)(A),[t]))};return Object(I.jsxs)("div",{className:"col-md-12",children:[Object(I.jsx)("h1",{children:"gestion utilisateur"}),Object(I.jsx)("div",{className:"card card-container",children:Object(I.jsx)("div",{className:"list row",children:Object(I.jsxs)("div",{className:"col-md-12 list",children:[Object(I.jsx)("h3",{children:"Listes des Utilisateurs"}),Object(I.jsx)(Xe.a,{component:Je.a,className:X.tableContainer,children:Object(I.jsxs)(Ke.a,{className:X.table,"aria-label":"simple table",children:[Object(I.jsx)(Qe.a,{children:Object(I.jsxs)($e.a,{children:[Object(I.jsx)(Ze.a,{className:X.tableHeaderCell,children:"nom"}),Object(I.jsx)(Ze.a,{className:X.tableHeaderCell,children:"email"}),Object(I.jsx)(Ze.a,{className:X.tableHeaderCell,children:"password"}),Object(I.jsx)(Ze.a,{className:X.tableHeaderCell,children:"Status"})]})}),Object(I.jsx)(et.a,{children:r.slice($*ce,$*ce+ce).map((function(e){return Object(I.jsxs)($e.a,{children:[Object(I.jsx)(Ze.a,{children:Object(I.jsxs)(tt.a,{container:!0,children:[Object(I.jsx)(tt.a,{item:!0,lg:2,children:Object(I.jsx)(ht.a,{alt:e.name,src:".",className:X.avatar})}),Object(I.jsxs)(tt.a,{item:!0,lg:10,children:[Object(I.jsx)(ct.a,{className:X.name,children:e.name}),Object(I.jsx)(ct.a,{color:"textSecondary",variant:"body2",children:e.username})]})]})}),Object(I.jsxs)(Ze.a,{children:[Object(I.jsx)(ct.a,{color:"primary",variant:"subtitle2",children:e.email}),Object(I.jsx)(ct.a,{color:"textSecondary",variant:"body2",children:e.company})]}),Object(I.jsx)(Ze.a,{children:"*********"}),Object(I.jsx)(Ze.a,{children:Object(I.jsx)(ct.a,{className:X.status,style:{backgroundColor:("Active"===e.status?"green":"Pending"===e.status&&"blue")||"Blocked"===e.status&&"orange"},children:e.status})})]},e.name)}))}),Object(I.jsx)(mt.a,{children:Object(I.jsx)(Ne.a,{rowsPerPageOptions:[5,10,15],component:"div",count:r.length,rowsPerPage:ce,page:$,onChangePage:ae,onChangeRowsPerPage:se})})]})})]})})}),Object(I.jsx)("div",{className:"card card-container",children:Object(I.jsx)("div",{className:"list row",children:Object(I.jsxs)("div",{className:"col-md-12 list",children:[Object(I.jsx)("h3",{children:"Historique des Authentifications"}),Object(I.jsx)(Xe.a,{component:Je.a,className:X.tableContainer,children:Object(I.jsxs)(Ke.a,{className:X.table,"aria-label":"simple table",children:[Object(I.jsx)(Qe.a,{children:Object(I.jsxs)($e.a,{children:[Object(I.jsx)(Ze.a,{className:X.tableHeaderCell,children:"Username"}),Object(I.jsx)(Ze.a,{className:X.tableHeaderCell,children:"Password"}),Object(I.jsx)(Ze.a,{className:X.tableHeaderCell,children:"Message"}),Object(I.jsx)(Ze.a,{className:X.tableHeaderCell,children:"Date De Connection"})]})}),Object(I.jsx)(et.a,{children:d.slice($*ce,$*ce+ce).map((function(e){return Object(I.jsxs)($e.a,{children:[Object(I.jsx)(Ze.a,{children:Object(I.jsxs)(tt.a,{container:!0,children:[Object(I.jsx)(tt.a,{item:!0,lg:2,children:Object(I.jsx)(ht.a,{alt:e.name,src:".",className:X.avatar})}),Object(I.jsxs)(tt.a,{item:!0,lg:10,children:[Object(I.jsx)(ct.a,{className:X.name,children:e.name}),Object(I.jsx)(ct.a,{color:"textSecondary",variant:"body2",children:e.username})]})]})}),Object(I.jsx)(Ze.a,{children:e.password}),Object(I.jsx)(Ze.a,{children:Object(I.jsx)(ct.a,{className:X.status,style:{backgroundColor:"Connexion \xe9tablie  !"===e.message?"green":"Connexion \xe9chou\xe9e  !"===e.message&&"red"},children:e.message})}),Object(I.jsx)(Ze.a,{children:Object(I.jsx)(ct.a,{color:"primary",variant:"subtitle2",children:ye()(e.date_connection).format("DD  MMMM YYYY HH:mm")})})]},e.name)}))}),Object(I.jsx)(mt.a,{children:Object(I.jsx)(Ne.a,{rowsPerPageOptions:[5,10,15],component:"div",count:d.length,rowsPerPage:ce,page:$,onChangePage:ae,onChangeRowsPerPage:se})})]})})]})})}),Object(I.jsxs)("div",{className:"card card-container",children:[Object(I.jsx)("h3",{children:"Ajouter un utilisateur"}),Object(I.jsxs)(ot.a,{onSubmit:function(e){e.preventDefault(),H(""),U(!1),u.current.validateAll(),0===O.current.context._errors.length&&p.register(_,P,A,F).then((function(e){H(e.data.message),U(!0)}),(function(e){console.log(A);var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();H(t),U(!1)}))},ref:u,children:[!V&&Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"username",children:"Username"}),Object(I.jsx)(dt.a,{type:"text",className:"form-control",name:"username",value:_,onChange:function(e){var t=e.target.value;E(t)},validations:[v,m]})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"email",children:"Email"}),Object(I.jsx)(dt.a,{type:"text",className:"form-control",name:"email",value:P,onChange:function(e){var t=e.target.value;C(t)},validations:[v,f]})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"password",children:"Password"}),Object(I.jsx)(dt.a,{type:"password",className:"form-control",name:"password",value:F,onChange:function(e){var t=e.target.value;k(t)},validations:[v,x]})]}),Object(I.jsxs)("div",{className:"form-check container",children:[Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"cemeca"}),Object(I.jsx)(dt.a,{type:"checkbox",className:"form-check",name:"cemeca",value:"1",onChange:re,validations:[v,h]}),Object(I.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"sofitech"}),Object(I.jsx)(dt.a,{type:"checkbox",className:"form-check",name:"sofitech",value:"2",onChange:re,validations:[v,h]}),Object(I.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"admin cemeca"}),Object(I.jsx)(dt.a,{type:"checkbox",className:"form-check",name:"admin_cemeca",value:"3",onChange:re,validations:[v,h]}),Object(I.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"admin sofitech"}),Object(I.jsx)(dt.a,{type:"checkbox",className:"form-check",name:"admin_sofitech",value:"4",onChange:re,validations:[v,h]})]}),Object(I.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"super_cemeca"}),Object(I.jsx)(dt.a,{type:"checkbox",className:"form-check",name:"super_cemeca",value:"5",onChange:re,validations:[v,h]}),Object(I.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"super_sofitech"}),Object(I.jsx)(dt.a,{type:"checkbox",className:"form-check",name:"super_sofitech",value:"6",onChange:re,validations:[v,h]}),Object(I.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"super_admin"}),Object(I.jsx)(dt.a,{type:"checkbox",className:"form-check",name:"super_admin1",value:"7",onChange:re,validations:[v,h]}),Object(I.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"super_admin2"}),Object(I.jsx)(dt.a,{type:"checkbox",className:"form-check",name:"super_admin2",value:"8",onChange:re,validations:[v,h]})]}),Object(I.jsx)("div",{className:"form-group",children:Object(I.jsx)("button",{className:"btn btn-primary btn-block",children:"Ajouter"})})]}),z&&Object(I.jsx)("div",{className:"form-group",children:Object(I.jsx)("div",{className:V?"alert alert-success":"alert alert-danger",role:"alert",children:z})}),Object(I.jsx)(ut.a,{style:{display:"none"},ref:O})]})]})]})},ft=c(531),pt=c(544),vt=c(511),gt=c(525),Nt=c(543),_t=c(541),Et=c(72),St=c.n(Et),yt=c(553),Pt=c(556),Ct=c(237),Mt=c(532),wt=c.p+"static/media/Spinner-5.e9202c75.gif";function Tt(){return Object(I.jsx)("div",{className:"-position",children:Object(I.jsx)("img",{src:wt,alt:""})})}function At(e){return Object(I.jsxs)(yt.a,Object(d.a)(Object(d.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(I.jsx)(Nt.a,{color:"inherit",href:"https://crm.sofitech.pro/",children:"sofitech & cemeca"})," ",(new Date).getFullYear(),"."]}))}var Dt=Object(Ct.a)(),It=function(){var e=Object(ne.f)(),t=Object(n.useRef)(),c=Object(n.useRef)(),a=Object(n.useState)(""),s=Object(b.a)(a,2),r=s[0],i=s[1],o=Object(n.useState)(""),l=Object(b.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)(void 0),O=Object(b.a)(u,2),h=O[0],m=O[1],x=Object(n.useState)(!1),f=Object(b.a)(x,2),v=f[0],g=f[1],N=Object(n.useState)(!1),_=Object(b.a)(N,2),E=_[0],S=_[1],y=Object(n.useState)(""),P=Object(b.a)(y,2),C=P[0],M=P[1],w=Object(n.useState)(""),T=Object(b.a)(w,2),A=T[0],D=T[1],Y=Object(n.useState)(""),R=Object(b.a)(Y,2),F=R[0],k=R[1],L=Object(n.useState)(""),G=Object(b.a)(L,2),V=(G[0],G[1],function(e){e.preventDefault(),k(""),t.current.validateAll(),0===c.current.context._errors.length&&p.login(r,d).then((function(e){var t="Mail envoy\xe9. V\xe9rifiez votre bo\xeete de r\xe9ception pour le code de v\xe9rification.";m(!0),k(t),g(!0),setTimeout((function(){m(!1),S(!0)}),1e3),p.create_historique_auth(r,"********",t).then((function(){}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();k(t)}))}),(function(e){var t="connection echouer !";p.create_historique_auth(r,d,t).then((function(){}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();k(t)}));var c=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();k(c),console.log(t)}))});return Object(I.jsx)("div",{className:"col-md-12",children:h?Object(I.jsxs)("div",{className:"card card-container",children:[Object(I.jsx)(Mt.a,{theme:Dt,children:Object(I.jsxs)(Pt.a,{component:"main",maxWidth:"xs",children:[Object(I.jsx)(gt.a,{}),Object(I.jsxs)(se.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(I.jsx)(pt.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(I.jsx)(St.a,{})}),Object(I.jsxs)(yt.a,{component:"h1",variant:"h5",children:["Sign in",Object(I.jsx)("br",{}),Object(I.jsx)(Tt,{})]}),Object(I.jsx)("a",{href:"/forget-password",children:"Mot de passe oublier ?"})]}),Object(I.jsx)(At,{sx:{mt:8,mb:4}})]})}),Object(I.jsx)(ot.a,{onSubmit:V,ref:t,children:Object(I.jsx)(ut.a,{style:{display:"none"},ref:c})})]}):Object(I.jsxs)("div",{className:"card card-container",children:[Object(I.jsx)(Mt.a,{theme:Dt,children:Object(I.jsxs)(Pt.a,{component:"main",maxWidth:"xs",children:[Object(I.jsx)(gt.a,{}),Object(I.jsxs)(se.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(I.jsx)(pt.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(I.jsx)(St.a,{})}),Object(I.jsx)(yt.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(I.jsxs)(se.a,{component:"form",onSubmit:V,noValidate:!0,sx:{mt:1},children:[Object(I.jsx)(De.a,{margin:"normal",required:!0,fullWidth:!0,onChange:function(e){var t=e.target.value;i(t)},id:"email",label:"Identifiant",name:"username",value:r,autoComplete:"username",autoFocus:!0}),Object(I.jsx)(De.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",value:d,onChange:function(e){var t=e.target.value;j(t)},label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(I.jsx)(ze.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Connection"}),F&&Object(I.jsx)("div",{className:"form-group",children:Object(I.jsx)("div",{className:v?"alert alert-success":"alert alert-danger",role:"alert",children:F})}),Object(I.jsxs)(_t.a,{container:!0,children:[Object(I.jsx)(_t.a,{item:!0,xs:!0,children:Object(I.jsx)("a",{href:"/forget-password",children:"Mot de passe oublier ?"})}),Object(I.jsx)(_t.a,{item:!0})]})]})]}),Object(I.jsx)(At,{sx:{mt:8,mb:4}})]})}),Object(I.jsx)(ot.a,{onSubmit:V,ref:t,children:Object(I.jsx)(ut.a,{style:{display:"none"},ref:c})}),Object(I.jsx)("div",{className:"col-md-12",children:Object(I.jsx)(ft.a,{open:E,onClose:function(){return S(!1)},closeAfterTransition:!0,children:Object(I.jsx)(vt.a,{in:E,children:Object(I.jsx)(Pt.a,{maxWidth:"sm",style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:Object(I.jsxs)(se.a,{sx:{bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:8},children:[F&&Object(I.jsx)("div",{className:"form-group",children:Object(I.jsx)("div",{className:v?"alert alert-success":"alert alert-danger",role:"alert",children:F})}),Object(I.jsx)("h4",{className:"modal-title",children:"V\xe9rification 2FA"}),Object(I.jsxs)("form",{onSubmit:function(t){t.preventDefault(),C?p.twoFactorAuth(r,C).then((function(t){t.accessToken?(sessionStorage.setItem("user",JSON.stringify(t)),e.push("/")):D("Code de v\xe9rification incorrect ou expir\xe9.")}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();D(t)})):D("Veuillez saisir le code de v\xe9rification.")},children:[Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"verificationCode",children:"Code de v\xe9rification"}),Object(I.jsx)("input",{type:"text",className:"form-control",id:"verificationCode",required:!0,value:C,onChange:function(e){return M(e.target.value)}})]}),A&&Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:A}),Object(I.jsx)("button",{type:"submit",className:"btn btn-primary",children:"V\xe9rifier"})]})]})})})})})]})})},Yt=c(231),Rt=c.n(Yt),Ft=c(93),kt=c(538),Lt=function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),c=(t[0],t[1],T()),a=function(e){var t=e.children,c=Object(n.useState)(!0),a=Object(b.a)(c,2),s=a[0],r=a[1];return t?Object(I.jsxs)("p",{className:"text",children:[s?t.slice(0,30):t,Object(I.jsx)("span",{onClick:function(){r(!s)},className:"read-or-hide",children:s?"...read more":" show less"})]}):null},s=p.getCurrentUser(),r=Object(n.useState)({}),i=Object(b.a)(r,2),o=i[0],l=i[1],j=Object(n.useState)([]),u=Object(b.a)(j,2),O=u[0],h=u[1],m=Object(n.useState)([]),x=Object(b.a)(m,2),f=x[0],v=x[1],g=Object(n.useState)([]),N=Object(b.a)(g,2),_=N[0],E=N[1],S=Object(n.useState)([]),y=Object(b.a)(S,2),P=y[0],C=y[1],M=Object(n.useState)([]),D=Object(b.a)(M,2),Y=D[0],R=D[1],F=Object(n.useState)(!1),k=Object(b.a)(F,2),L=k[0],G=k[1],V=Object(n.useState)(!1),U=Object(b.a)(V,1)[0],B=Object(n.useState)(""),W=Object(b.a)(B,1)[0],z=Object(n.useRef)(),H=Object(n.useRef)(),q=Object(n.useState)(""),J=Object(b.a)(q,2),K=J[0],Q=J[1],$=Object(n.useState)([]),Z=Object(b.a)($,2),ee=Z[0],te=Z[1],ce=A(),ne=Object(n.useRef)(null),ae=function(e){var t={id:P,validation:_};e.preventDefault(),z.current.validateAll(),H.current&&H.current.context&&0===H.current.context._errors.length&&X.update(P,t).then((function(e){l({id:e.data.id,validation:e.data.validation}),U(!0),window.location.reload()})).catch((function(e){console.log(e)}))};Object(n.useEffect)((function(){s&&X.findAll().then((function(e){h(e.data)})).catch((function(e){console.log(e)})),w.getListe_User().then((function(e){te(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){if(c)v(O),O.sort((function(e,t){return new Date(t.date_rdv).getTime()-new Date(e.date_rdv).getTime()}));else{var e=O.filter((function(e){return e.id_utili===s.id}));e.sort((function(e,t){return new Date(t.date_rdv).getTime()-new Date(e.date_rdv).getTime()})),v(e)}L?(v((function(e){return e.filter((function(e){return"non realiser"===e.validation}))})),ce&&Oe.AllSociete().then((function(e){return R(e)}))):ce&&Oe.AllSociete().then((function(e){return R(e)})),""!==K&&v((function(e){return e.filter((function(e){return e.nom_societe.toLowerCase().includes(K.toLowerCase())}))}))}),[c,O,K,L,ce]);return Object(I.jsx)(se.a,{sx:{minWidth:275},children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsxs)(tt.a,{container:!0,alignItems:"center",children:[Object(I.jsx)(tt.a,{item:!0,xs:12,md:4,children:Object(I.jsx)("input",{type:"text",className:"form-control",placeholder:"recherche par Soci\xe9t\xe9",value:K,onChange:function(e){var t=e.target.value||"";Q(t)}})}),Object(I.jsx)(tt.a,{item:!0,xs:12,md:2,children:Object(I.jsx)(kt.a,Object(d.a)(Object(d.a)({},{inputProps:{"aria-label":"Color switch demo"}}),{},{onChange:function(){return G(!L)},checked:L}))}),Object(I.jsx)(tt.a,{item:!0,xs:12,md:6,container:!0,justifyContent:"flex-end",children:Object(I.jsx)(Ft.DownloadTableExcel,{filename:"Compte-rendu",sheet:"Compte-rendu",currentTableRef:ne.current,children:Object(I.jsx)(ze.a,{variant:"contained",color:"success",children:"Excel"})})})]}),Object(I.jsx)("div",{variant:"outlined",children:Object(I.jsx)(Xe.a,{component:Je.a,children:Object(I.jsxs)(Ke.a,{ref:ne,children:[Object(I.jsx)(Qe.a,{children:Object(I.jsxs)($e.a,{children:[Object(I.jsx)(Ze.a,{style:{width:"60px",fontSize:"10px"},children:"Soci\xe9t\xe9"}),Object(I.jsx)(Ze.a,{style:{width:"80px",fontSize:"10px"},children:"Commerciale"}),Object(I.jsx)(Ze.a,{style:{width:"120px",fontSize:"10px"},children:"Date activit\xe9 commerciale"}),Object(I.jsx)(Ze.a,{style:{width:"120px",fontSize:"10px"},children:"INTERLOCUTEUR"}),Object(I.jsx)(Ze.a,{style:{width:"100px",fontSize:"10px"},children:"Besoin"}),Object(I.jsx)(Ze.a,{style:{width:"100px",fontSize:"10px"},children:"Description"}),Object(I.jsx)(Ze.a,{style:{width:"100px",fontSize:"10px"},children:"Date d'ajout"}),Object(I.jsx)(Ze.a,{style:{width:"70px",fontSize:"10px"},children:"Etat"}),Object(I.jsx)(Ze.a,{style:{width:"70px",fontSize:"10px"},children:"Modifier"})]})}),Object(I.jsx)(et.a,{children:f.map((function(e){var t="realiser"===e.validation;return console.log("Action data:",e),console.log("societeListe:",Y),console.log("Filtered:",Y.filter((function(t){return t.nom_soc.toLowerCase()===e.nom_societe.toLowerCase()}))),Object(I.jsxs)($e.a,{style:{fontSize:"10px"},children:[Object(I.jsx)(Ze.a,{style:{fontSize:"8px"},children:Y.filter((function(t){return t.nom_soc.toLowerCase()===e.nom_societe.toLowerCase()})).map((function(e){return Object(I.jsx)("a",{href:"/Societe/".concat(e.siret),children:e.nom_soc},e.id)}))}),c&&ee.filter((function(t){return t.id===e.id_utili})).map((function(e){return Object(I.jsx)(Ze.a,{style:{fontSize:"8px"},children:Object(I.jsx)(ct.a,{variant:"body2",style:{fontSize:"8px"},children:e.username},e.id)})})),Object(I.jsx)(Ze.a,{style:{fontSize:"10px"},children:ye()(e.date_rdv).format("DD MMMM YYYY HH:mm")}),Object(I.jsx)(Ze.a,{style:{fontSize:"8px"},children:e.nom_interlocuteur}),Object(I.jsx)(Ze.a,{style:{fontSize:"8px"},children:e.besoin}),Object(I.jsx)(Ze.a,{style:{fontSize:"8px"},children:Object(I.jsx)(a,{children:e.description})}),Object(I.jsx)(Ze.a,{style:{fontSize:"8px"},children:ye()(e.createdAt).format("DD MMMM YYYY HH:mm")}),Object(I.jsx)(Ze.a,{style:{fontSize:"8px"},children:Object(I.jsxs)(ot.a,{onSubmit:ae,ref:z,children:[Object(I.jsx)("button",{className:"btn",onClick:function(){C(e.id),W(t?"Activit\xe9 commerciale R\xe9alis\xe9e Annul\xe9e":"Activit\xe9 commerciale R\xe9alis\xe9e"),E(t?"non realiser":"realiser")},value:o.id=e.id,name:"id",style:{fontSize:"8px",padding:"4px",color:t?"white":"black",backgroundColor:t?"green":"red",border:"none",cursor:"pointer"},children:t?"R\xe9alis\xe9":"Non R\xe9alis\xe9"}),Object(I.jsx)(ut.a,{style:{display:"none"},ref:H})]})}),Object(I.jsx)(Ze.a,{children:Object(I.jsx)(ze.a,{href:"/Actions/modifier/".concat(e.id),color:"warning",size:"small",style:{fontSize:"8px"},startIcon:Object(I.jsx)(Rt.a,{})})})]},e.id)}))})]})})})]})})},Gt=c(4),Vt=c(232),Ut="".concat("http://localhost:8080","/api/auth/"),Bt=new(function(){function e(){Object(O.a)(this,e),this.update=function(e,t){return x.a.put(Ut+"interlocuteur/update/".concat(e),t)}}return Object(h.a)(e,[{key:"create",value:function(e){return x.a.post(Ut+"interlocuteur",e)}},{key:"findAll",value:function(){return x.a.get(Ut+"interlocuteur")}}]),e}()),Wt=c(537),zt=c(533),Ht=c(554),qt=c(529),Jt=c(41),Xt=c.n(Jt),Kt=c(233),Qt=c(140),$t=c(234),Zt=(c(408),function(e){var t=Object(ne.f)(),c=Object(n.useState)([]),a=Object(b.a)(c,2),s=a[0],r=a[1],i=Object(n.useState)([]),o=Object(b.a)(i,2),l=o[0],j=o[1],u=Object(n.useState)([]),O=Object(b.a)(u,2),h=O[0],m=O[1],x=Object(n.useState)([]),f=Object(b.a)(x,2),v=f[0],g=f[1],N=Object(n.useState)(!1),_=Object(b.a)(N,2),E=_[0],S=_[1],y=Object(n.useState)(""),P=Object(b.a)(y,2),C=P[0],M=P[1],w=Object(n.useRef)(),T=Object(n.useRef)(),Y=Object(n.useState)([]),R=Object(b.a)(Y,2),F=R[0],k=R[1],L=Object(n.useState)(Vt),G=Object(b.a)(L,2),V=G[0],U=(G[1],Object(n.useState)([])),B=Object(b.a)(U,2),W=B[0],z=B[1],H=Object(n.useState)(!1),q=Object(b.a)(H,2),J=q[0],K=q[1],Q=Object(n.useState)(!1),$=Object(b.a)(Q,2),Z=$[0],ee=$[1],te=A(),ce=Object(n.useState)(!1),ae=Object(b.a)(ce,2),se=ae[0],re=ae[1],ie=D(),oe=p.getCurrentUser();l.join(),Object(n.useEffect)((function(){oe&&(Bt.findAll().then((function(e){z(e.data)})).catch((function(e){console.log(e)})),l.join().includes("Investissement productif")&&re(!0))}),[l.join()]),Object(n.useEffect)((function(){oe&&(ie&&Oe.CemecaListe().then((function(e){return k(e)})),te&&Oe.AllSociete().then((function(e){return k(e)})))}),[te,ie]),console.log(F);var le=Object(ne.g)(),de=parseInt(le.id),je="/Action/"+le;(console.log(je),e.location.pathname===je)&&(Object(rt.a)(V)[5].status="active");var ue=F.filter((function(e){return e.siret===de})),be=W.filter((function(e){return e.id_soc===de}));console.log(be);var he=Object(n.useState)({initial1ctionState:{id_utili:"",nom_interlocuteur:"",type_action:"",nom_societe:"",description:"",date_action:"",date_rdv:"",date_factor:"",date_assur:"",nom_assur:"",nom_factor:"",besoin:"",investissement:"",montant:"",credit_cop:"",validation:"non realiser"}}),me=Object(b.a)(he,2),xe=me[0],fe=me[1],pe=function(e){var t=e.target,c=t.name,n=t.value;fe(Object(d.a)(Object(d.a)({},xe),{},Object(Gt.a)({},c,n)))};return Object(I.jsxs)("div",{className:"col-md-12",children:[Object(I.jsxs)("h3",{children:[Object(I.jsx)("i",{class:"bx bxs-bank danger"})," Ajouter une action"]}),Object(I.jsxs)("div",{className:"card card-container",children:[ue.map((function(e){return Object(I.jsxs)("h3",{children:[Object(I.jsx)("i",{class:"bx bxs-bank danger"})," ",e.nom_soc]})})),Object(I.jsxs)(ot.a,{onSubmit:function(e){var c=s.join(),n=l.join(),a=h.join(),r=v.join(),i={nom_interlocuteur:a,nom_societe:ue[0].nom_soc,date_rdv:xe.date_rdv,date_action:new Date,date_factor:xe.date_factor,date_assur:xe.date_assur,montant:xe.montant,nom_assur:xe.nom_assur,nom_factor:xe.nom_factor,id_utili:oe.id,type_action:xe.type_action,description:xe.description,besoin:n,investissement:r,credit_cop:c,validation:"non realiser"};e.preventDefault(),w.current.validateAll(),0===T.current.context._errors.length&&X.create(i).then((function(e){fe({nom_interlocuteur:e.data.nom_interlocuteur,nom_societe:e.data.nom_societe,date_rdv:e.data.date_rdv,date_action:e.data.date_action,investissement:e.data.investissement,besoin:e.data.besoin,montant:e.data.montant,id_utili:e.data.id_utili,type_action:e.data.type_action,description:e.data.description,validation:e.data.validation}),S(!0),M("activit\xe9 commerciale ajout\xe9e avec succ\xe8s :)"),setTimeout((function(){t.push("/AllAction")}),1e3)}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();M(t)}))},ref:w,children:[!E&&Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"username",children:"utlisateur"}),Object(I.jsx)(Ht.a,{fullWidth:!0,sx:{m:1},variant:"standard",children:Object(I.jsx)(De.a,{id:"outlined-multiline-static",label:"utlisateur",multiline:!0,name:"id_utili",value:oe.username,onChange:pe})})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"interlocuteur"}),Object(I.jsx)(Xt.a,{displayValue:"nom",value:"4",isObject:!0,onChange:console.log,id:console.log,onNOMPressFn:function(){},onRemove:function(){},onSearch:function(){},onSelect:function(e){m(Array.isArray(e)?e.map((function(e){return e.nom})):[])},options:be,showCheckbox:!0})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"username",children:"Date de l'action"}),Object(I.jsx)("input",{type:"datetime-local",className:"form-control",name:"date_rdv",value:xe.date_rdv,onChange:pe})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"username",children:"Observation / Compte-rendu"}),Object(I.jsx)(Ht.a,{fullWidth:!0,sx:{m:1},variant:"standard",children:Object(I.jsx)(De.a,{id:"outlined-multiline-static",label:"description",multiline:!0,rows:7,name:"description",value:xe.description,onChange:pe})})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"password",children:"type d'action"}),Object(I.jsxs)(Ht.a,{fullWidth:!0,children:[Object(I.jsx)(Wt.a,{id:"demo-simple-select-label",children:"type_action"}),Object(I.jsxs)(qt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:xe.type_action,label:"type_action",name:"type_action",onChange:pe,children:[Object(I.jsx)(zt.a,{value:"RDV",children:"RDV"}),Object(I.jsx)(zt.a,{value:"contact t\xe9l\xe9phonique",children:"contact t\xe9l\xe9phonique"}),Object(I.jsx)(zt.a,{value:"contact teams",children:"contact teams"}),Object(I.jsx)(zt.a,{value:"contact par courrier",children:"contact par courrier"})]})]})]}),te&&Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"password",children:"besoin"}),Object(I.jsx)(Xt.a,{displayValue:"NOM",groupBy:"TYPE",value:"4",isObject:!0,selectedValues:console.log,onChange:console.log,id:console.log,onNOMPressFn:function(){},onRemove:function(){},onSearch:function(){},onSelect:function(e){j(Array.isArray(e)?e.map((function(e){return e.NOM})):[])},options:Qt,showCheckbox:!0})]}),te&&se&&Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"password",children:"Investissement productif"}),Object(I.jsx)(Xt.a,{displayValue:"NOM",groupBy:"TYPE",value:"4",isObject:!0,selectedValues:console.log,onChange:console.log,id:console.log,onNOMPressFn:function(){},onRemove:function(){},onSearch:function(){},onSelect:function(e){g(Array.isArray(e)?e.map((function(e){return e.NOM})):[])},options:$t,showCheckbox:!0})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"password",children:"Montant"}),Object(I.jsxs)(Ht.a,{fullWidth:!0,children:[Object(I.jsx)(Wt.a,{id:"demo-simple-select-label",children:"Montant"}),Object(I.jsxs)(qt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:xe.montant,label:"motant de l'action",name:"montant",onChange:pe,children:[Object(I.jsx)(zt.a,{value:"De 1 \xe0 500 K\u20ac",children:"De 1 \xe0 500 K\u20ac "}),Object(I.jsx)(zt.a,{value:"De 501 \xe0 1 M\u20ac",children:"De 501 \xe0 1 M\u20ac"}),Object(I.jsx)(zt.a,{value:"Plus de 1M\u20ac ",children:"Plus de 1M\u20ac "})]})]})]}),ie&&Object(I.jsx)("div",{className:"form-group",children:Object(I.jsxs)(_t.a,{container:!0,spacing:3,children:[Object(I.jsx)(_t.a,{item:!0,xs:"auto",children:Object(I.jsx)("label",{htmlFor:"password",children:"Assurance-cr\xe9dit en place ?"})}),Object(I.jsx)(_t.a,{item:!0,xs:"auto",children:Object(I.jsx)(ze.a,{variant:"contained",onClick:function(){K(!0)},color:"success",children:"OUI"})}),Object(I.jsx)(_t.a,{item:!0,xs:"auto",children:Object(I.jsx)(ze.a,{variant:"contained",onClick:function(){K(!1)},color:"error",children:"NON"})}),Object(I.jsx)(_t.a,{item:!0,xs:"auto",children:Object(I.jsx)(ze.a,{variant:"contained",onClick:function(){K(!1)},color:"warning",children:"NSP"})})]})}),ie&&J&&Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)(De.a,{id:"outlined-multiline-static",label:"Nom l'assureur cr\xe9dit",multiline:!0,name:"nom_assur",value:xe.nom_assur,onChange:pe}),Object(I.jsx)("br",{}),Object(I.jsx)("label",{htmlFor:"password",children:"pr\xe9ciser la date d\u2019\xe9ch\xe9ance du cr\xe9dit "}),Object(I.jsx)("input",{type:"datetime-local",className:"form-control",name:"date_assur",value:xe.date_assur,onChange:pe})]}),ie&&Object(I.jsx)("div",{className:"form-group",children:Object(I.jsxs)(_t.a,{container:!0,spacing:3,children:[Object(I.jsx)(_t.a,{item:!0,xs:"auto",children:Object(I.jsx)("label",{htmlFor:"password",children:"Factor en place ?"})}),Object(I.jsx)(_t.a,{item:!0,xs:"auto",children:Object(I.jsx)(ze.a,{variant:"contained",onClick:function(){ee(!0)},color:"success",children:"OUI"})}),Object(I.jsx)(_t.a,{item:!0,xs:"auto",children:Object(I.jsx)(ze.a,{variant:"contained",onClick:function(){ee(!1)},color:"error",children:"NON"})}),Object(I.jsx)(_t.a,{item:!0,xs:"auto",children:Object(I.jsx)(ze.a,{variant:"contained",onClick:function(){ee(!1)},color:"warning",children:"NSP"})})]})}),ie&&Z&&Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:"form-group",children:Object(I.jsx)(De.a,{id:"outlined-multiline-static",label:"Nom Factor",multiline:!0,value:xe.nom_factor,name:"nom_factor",onChange:pe})}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"password",children:"Pr\xe9ciser la date d\u2019\xe9ch\xe9ance du Factor "}),Object(I.jsx)("input",{type:"datetime-local",className:"form-control",name:"date_factor",value:xe.date_factor,onChange:pe})]})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"Centre d'affaires CREDIT COOPERATIF"}),Object(I.jsx)(Xt.a,{displayValue:"NOM",groupBy:"TYPE",value:"4",isObject:!0,selectedValues:console.log,onChange:console.log,id:console.log,onNOMPressFn:function(){},onRemove:function(){},onSearch:function(){},onSelect:function(e){r(Array.isArray(e)?e.map((function(e){return e.NOM})):[])},options:Kt,showCheckbox:!0})]}),Object(I.jsx)("div",{className:"form-group",children:Object(I.jsx)("button",{className:"btn btn-primary btn-block",children:"Valider l'action"})})]}),C&&Object(I.jsx)("div",{className:"form-group",children:Object(I.jsx)("div",{className:E?"alert alert-success":"alert alert-danger",role:"alert",children:C})}),Object(I.jsx)(ut.a,{style:{display:"none"},ref:T})]})]})]})}),ec="".concat("http://localhost:8080","/api/auth/"),tc={create:function(e){return x.a.post(ec+"ajouter",e)},findByTitle:function(e){return x.a.get("/Societes?siret=".concat(e))},update:function(e,t){return x.a.put(ec+"societe/update/".concat(e),t)}},cc=(c(126),new(Object(h.a)((function e(){Object(O.a)(this,e),this.required=function(e){if(!e)return Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"ce champs ne doit pas etre vide"})},this.vsiret=function(e){if(isNaN(e)||14!==e.length)return Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"siret invalide :(."})},this.vsiren=function(e){if(isNaN(e))return Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This is not a valid siren."})},this.vnom_soc=function(e){if(e.length<4)return Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"nom socit\xe9t\xe9 invalide !."})},this.vnom_responsable=function(e){if(e.length<4)return Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"nom responsable invalide !."})},this.vdate_creation_soc=function(e){if(e.length<4)return Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"date invalide !"})},this.vactivit\u00e9=function(e){if(e.length<4)return Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"activit\xe9 invalide !"})},this.vadresse=function(e){if(e.length<4)return Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"adresse invalide !"})},this.vpays=function(e){if(e.length<4)return Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"pays invalide !"})},this.cville=function(e){if(e.length<4||e.length>30)return Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"ville invalide !"})},this.vcode_postal=function(e){if(e.length<4||e.length>10)return Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"code postal invalide !"})},this.vopportunit\u00e9=function(e){if(e.length<4)return Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"opportunit\xe9 invalide !"})},this.vobservation=function(e){if(e.length<4)return Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"opportunit\xe9 invalide !"})},this.vtel=function(e){if(e.length<4||e.length>10)return Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"t\xe9lephone doit pas etre vide :( !"})},this.vid_role=function(e){if(isNaN(e))return Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"1 or 2."})}})))),nc=(c(127),c(141)),ac=c(142),sc=c(530),rc=c(557);function ic(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){setTimeout(t,e)}))}var oc=function(){var e=Object(ne.f)(),t=Object(n.useState)([]),c=Object(b.a)(t,2),s=c[0],r=c[1],i=cc.required,o=cc.vsiret,l=cc.vsiren,j=(cc.vcode_postal,cc.cville),u=cc.vobservation,O=cc.vtel,h=cc.vpays,m=cc.vadresse,f=(cc.montant,p.getCurrentUser()),v=Object(n.useState)(!1),g=Object(b.a)(v,2),N=g[0],_=g[1],E=Object(n.useState)([]),S=Object(b.a)(E,2),y=S[0],P=S[1],C=N&&0===y.length,M=Object(n.useState)({initialSocieteState:{siret:"",siren:"",nom_soc:"",date_creation_soc:"",activite_soc:"",libelle_naf:"",adresse_local:"",pays:"",ville_soc:"",code_postal:"",syndicat:"",observation:"",tel:"",app_sofitech:"",app_cemeca:"",soc_sofitech:"",soc_cemeca:"",id_role:"",id_utili:"",origineprospect:""}}),T=Object(b.a)(M,2),Y=T[0],R=T[1],F=Object(n.useState)(!1),k=Object(b.a)(F,2),L=k[0],G=k[1],V=Object(n.useState)(""),U=Object(b.a)(V,2),B=U[0],W=U[1],z=Object(n.useState)(""),H=Object(b.a)(z,2),q=H[0],J=H[1],X=Object(n.useState)([]),K=Object(b.a)(X,2),Q=K[0],$=K[1],Z=Object(n.useState)([]),ee=Object(b.a)(Z,2),ae=ee[0],se=ee[1],re=Object(n.useState)(""),ie=Object(b.a)(re,2),oe=ie[0],le=ie[1],de=Object(n.useState)(""),je=Object(b.a)(de,2),ue=je[0],be=je[1],he=Object(n.useRef)(),me=Object(n.useRef)(),xe=A(),fe=D();Object(n.useEffect)((function(){fe&&Oe.CemecaListe().then((function(e){return r(e)})),xe&&Oe.AllSociete().then((function(e){return r(e)}))}),[fe,xe]);Object(n.useEffect)((function(){var e=!0;if(C)return Object(ce.a)(Object(te.a)().mark((function t(){return Object(te.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ic(1e3);case 2:e&&P(Object(rt.a)(s));case 3:case"end":return t.stop()}}),t)})))(),function(){e=!1}}),[C,s]),Object(n.useEffect)((function(){N||P([])}),[N]);var pe="https://api.pappers.fr/v2/entreprise/?siret="+String(Y.siret),ve=Object(n.useState)([]),ge=Object(b.a)(ve,2),Ne=ge[0],_e=ge[1],Ee=Object(n.useState)([]),Se=Object(b.a)(Ee,2),ye=Se[0],Pe=Se[1];console.log(ye);var Ce=Object(n.useState)(""),Me=Object(b.a)(Ce,2),we=Me[0],Te=Me[1],Ae=function(e){var t=e.target,c=t.name,n=t.value;R(Object(d.a)(Object(d.a)({},Y),{},Object(Gt.a)({},c,n)))},Ie=Object.entries(Ne),Ye=Object.entries(ye),Re=Ie.filter((function(e){return"siren"===Object(b.a)(e,1)[0]})),Fe=Ie.filter((function(e){return"nom_entreprise"===Object(b.a)(e,1)[0]})),ke=Ie.filter((function(e){return"code_naf"===Object(b.a)(e,1)[0]})),Le=Ie.filter((function(e){return"libelle_code_naf"===Object(b.a)(e,1)[0]})),Ge=Ye.filter((function(e){return"adresse_ligne_1"===Object(b.a)(e,1)[0]})),Ve=Ye.filter((function(e){return"pays"===Object(b.a)(e,1)[0]})),Ue=Ye.filter((function(e){return"ville"===Object(b.a)(e,1)[0]})),Be=Ye.filter((function(e){return"code_postal"===Object(b.a)(e,1)[0]})),We=function(){return Object(I.jsx)("div",{className:"col-6",children:Re.map((function(e,t){return Object(I.jsx)(dt.a,{type:"text",className:"form-control",id:"title",value:Y.siren=e[1],onChange:Ae,validations:[i,l],name:"siren"},t)}))})},He=function(){return Object(I.jsx)("div",{children:Fe.map((function(e,t){return Object(I.jsx)(dt.a,{type:"text",className:"form-control",id:"title",value:Y.nom_soc=e[1],onChange:Ae,name:"nom_soc"},t)}))})},qe=function(){return Object(I.jsx)("div",{children:ke.map((function(e,t){return Object(I.jsx)(dt.a,{type:"text",className:"form-control",id:"title",value:Y.activite_soc=e[1],onChange:Ae,validations:[i,u],name:"activite_soc"},t)}))})},Je=function(){return Object(I.jsx)("div",{children:Le.map((function(e,t){return Object(I.jsx)(dt.a,{type:"text",className:"form-control",id:"title",value:Y.libelle_naf=e[1],onChange:Ae,validations:[i,u],name:"activite_soc"},t)}))})},Xe=function(){return Object(I.jsx)("div",{children:Ge.map((function(e,t){return Object(I.jsx)(dt.a,{type:"text",className:"form-control",id:"title",value:Y.adresse_local=e[1],onChange:Ae,validations:[i,m],name:"adresse_local"},t)}))})},Ke=function(){return Object(I.jsx)("div",{children:Ve.map((function(e,t){return Object(I.jsx)(dt.a,{type:"text",className:"form-control",id:"title",value:Y.pays=e[1],onChange:Ae,validations:[i,h],name:"pays"},t)}))})},Qe=function(){return Object(I.jsx)("div",{children:Ue.map((function(e,t){return Object(I.jsx)(dt.a,{type:"text",className:"form-control",id:"title",value:Y.ville_soc=e[1],onChange:Ae,validations:[i,j],name:"ville_soc"},t)}))})},$e=function(){return Object(I.jsx)("div",{children:Be.map((function(e,t){return Object(I.jsx)(dt.a,{type:"text",className:"form-control",id:"title",value:Y.code_postal=e[1],onChange:Ae,validations:[i],name:"code_postal"},t)}))})};Object(n.useEffect)((function(){w.getSofitechBoard().then((function(){le(2)})).catch((function(){le(1)})),2===oe&&be(1)}),[oe]);return Object(I.jsxs)("div",{className:"submit-form",children:[Object(I.jsx)("div",{className:"container",children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)(sc.a,{noOptionsText:"societ\xe9 non trouv\xe9e dans le CRM",id:"asynchronous-demo",sx:{width:300},open:N,onOpen:function(){_(!0)},onClose:function(){_(!1)},isOptionEqualToValue:function(e,t){return e.nom_soc===t.nom_soc},getOptionLabel:function(e){return e.nom_soc},options:y,loading:C,renderInput:function(e){return Object(I.jsx)(De.a,Object(d.a)(Object(d.a)({},e),{},{label:"Recheche societ\xe9 CRM",InputProps:Object(d.a)(Object(d.a)({},e.InputProps),{},{endAdornment:Object(I.jsxs)(a.a.Fragment,{children:[C?Object(I.jsx)(rc.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))}})}),Object(I.jsx)("div",{className:"col-6",children:Object(I.jsxs)(ot.a,{ref:he,children:[Object(I.jsx)("div",{children:Object(I.jsx)("div",{className:"form-group",children:Object(I.jsx)("div",{className:"container",children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{className:"col-5",children:Object(I.jsx)(De.a,{label:"Recherche PAPPERS",value:we,onChange:function(e){return Te(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&console.log("tges")}})}),Object(I.jsx)("div",{className:"col",children:Object(I.jsx)(ze.a,{type:"submit",variant:"contained",onClick:function(){return window.open("https://www.pappers.fr/recherche?q=".concat(we),"_blank")},children:"recherche"})})]})})})}),Object(I.jsx)(ut.a,{style:{display:"none"},ref:me})]})})]})}),Object(I.jsxs)("div",{className:"card card-container",children:[Object(I.jsxs)("h3",{children:[Object(I.jsx)("i",{class:"bx bxs-bank danger"})," Ajouter une Soci\xe9t\xe9"]}),Object(I.jsxs)(ot.a,{onSubmit:function(t){var c=Q.join(),n=ae.join(),a={siret:Y.siret,siren:Y.siren,nom_soc:Y.nom_soc,nom_responsable_soc:Y.nom_responsable_soc,date_creation_soc:Y.date_creation_soc,activite_soc:Y.activite_soc,libelle_naf:Y.libelle_naf,adresse_local:Y.adresse_local,pays:Y.pays,ville_soc:Y.ville_soc,code_postal:Y.code_postal,origineprospect:n,syndicat:c,observation:Y.observation,tel:Y.tel,id_role:oe,app_sofitech:ue,Origine_du_prospect:n,message:B.message,successful:L.successful,id_utili:f.id};t.preventDefault(),he.current.validateAll(),0===me.current.context._errors.length&&"Siret PAPPERS valid\xe9."===q&&tc.create(a).then((function(t){R({siren:t.data.siren,siret:t.data.siret,nom_soc:t.data.nom_soc,nom_responsable_soc:t.data.nom_responsable_soc,activite_soc:t.data.activite_soc,libelle_naf:t.data.libelle_naf,adresse_local:t.data.adresse_local,app_sofitech:t.data.app_sofitech,pays:t.data.pays,ville_soc:t.data.ville_soc,code_postal:t.data.code_postal,syndicat:t.data.syndicat,origineprospect:t.data.origineprospect,observation:t.data.observation,tel:t.data.tel,date:t.data.date,id_role:t.data.id_role,Origine_du_prospect:t.data.Origine_du_prospect,id_utili:t.data.id_utili}),G(!0),W(t.data.message),setTimeout((function(){e.push("/Societes")}),1e3)}),(function(e){e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),W("Soci\xe9t\xe9 d\xe9j\xe0 ajout\xe9")})).catch((function(e){console.log(e)}))},ref:he,children:[!L&&Object(I.jsx)("div",{children:Object(I.jsx)("div",{className:"form-group",children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("label",{htmlFor:"title",children:"siret"}),Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)(dt.a,{type:"text",className:"form-control",id:"title",onChange:Ae,value:Y.siret,validations:[i,o],name:"siret"})}),Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)(ze.a,{onClick:function(){x.a.get(pe,{headers:{Authorization:" Bearer 0d8966099937f4d67b63e5ae5266c5f2922aca4fb595b62f"}}).then((function(e){_e(e.data),Pe(e.data.etablissement),J("Siret PAPPERS valid\xe9."),W("")}),(function(e){J("Siret non reconnu PAPPERS.")}))},variant:"contained",children:"valider"})}),q&&Object(I.jsx)("div",{className:"form-group",children:Object(I.jsx)("div",{className:"Siret PAPPERS valid\xe9."===q?"alert alert-success":"alert alert-warning",role:"alert",children:q})})]})})}),Ie.length>0&&Object(I.jsx)("div",{children:Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"siren"}),Object(I.jsx)(We,{})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"nom de la societe"}),Object(I.jsx)(He,{})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"code naf"}),Object(I.jsx)(qe,{})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"libelle_code_naf"}),Object(I.jsx)(Je,{})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"Adresse local"}),Object(I.jsx)(Xe,{})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"pays"}),Object(I.jsx)(Ke,{})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"Ville"}),Object(I.jsx)(Qe,{})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"text",children:"Code postale"}),Object(I.jsx)($e,{})]})]})}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"origine du prospect "}),Object(I.jsx)(Xt.a,{displayValue:"NOM",groupBy:"TYPE",value:"4",isObject:!0,selectedValues:console.log,onChange:console.log,id:console.log,onNOMPressFn:function(){},onRemove:function(){},onSearch:function(){},onSelect:function(e){se(Array.isArray(e)?e.map((function(e){return e.NOM})):[])},options:ac,emptyRecordMsg:"No options available",showCheckbox:!0})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"Syndicat"}),Object(I.jsx)(Xt.a,{displayValue:"NOM",groupBy:"TYPE",value:"4",isObject:!0,selectedValues:console.log,onChange:console.log,id:console.log,onNOMPressFn:function(){},onRemove:function(){},onSearch:function(){},onSelect:function(e){$(Array.isArray(e)?e.map((function(e){return e.NOM})):[])},options:nc,showCheckbox:!0})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"Observation"}),Object(I.jsx)(dt.a,{type:"text",className:"form-control",id:"title",defaultValue:"Thierry",value:Y.observation,onChange:Ae,name:"observation"})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"telephone Societes"}),Object(I.jsx)(dt.a,{type:"text",className:"form-control",id:"title",value:Y.tel,onChange:Ae,validations:[i,O],name:"tel"})]}),B&&Object(I.jsx)("div",{className:"form-group",children:Object(I.jsx)("div",{className:L?"alert alert-success":"alert alert-danger",role:"alert",children:B})}),Object(I.jsx)(ut.a,{style:{display:"none"},ref:me}),Object(I.jsx)("button",{className:"btn btn-success",children:"AJOUTER"})]})]})]})},lc=a.a.forwardRef((function(e,t){var c=e.icon,n=Object(b.a)(c.icon,5),a=n[0],s=n[1],r=n[4];return Object(I.jsx)(Ge.a,{ref:t,viewBox:"0 0 ".concat(a," ").concat(s),children:"string"===typeof r?Object(I.jsx)("path",{d:r}):r.map((function(e,t){return Object(I.jsx)("path",{style:{opacity:0===t?.4:1},d:e})}))})})),dc=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)([]),i=Object(b.a)(r,2),o=i[0],l=i[1],j=Object(n.useState)([]),u=Object(b.a)(j,2),O=u[0],h=u[1],m=Object(n.useState)([]),x=Object(b.a)(m,2),f=x[0],p=x[1],v=Object(n.useState)([]),g=Object(b.a)(v,2),N=g[0],_=(g[1],a.a.useState("")),E=Object(b.a)(_,2),S=E[0],y=E[1],P=a.a.useState(""),C=Object(b.a)(P,2),M=C[0],T=C[1],Y=Object(n.useState)(""),R=Object(b.a)(Y,2),F=R[0],k=R[1],L=A(),G=D(),V=864e5,U=f.filter((function(e){return(new Date(e.date_rdv)-M)/V<0&&(new Date(e.date_rdv)-S)/V>0}));Object(n.useEffect)((function(){w.getListe_User().then((function(e){s(e.data)})).catch((function(e){console.log(e)})),X.findAll().then((function(e){p(e.data)})).catch((function(e){console.log(e)})),Bt.findAll().then((function(e){h(e.data)})).catch((function(e){console.log(e)})),G&&Oe.CemecaListe().then((function(e){return l(e)})),L&&Oe.AllSociete().then((function(e){return l(e)}))}),[L,G]);var B=a.a.useState(10),W=Object(b.a)(B,2),z=W[0],H=W[1],q=a.a.useState(0),J=Object(b.a)(q,2),K=J[0],Q=J[1];return Object(I.jsx)("div",{children:N?Object(I.jsxs)("div",{children:[Object(I.jsx)("h2",{className:"page-header",children:"Tableau de bord Admin"}),Object(I.jsx)("div",{className:"row",children:Object(I.jsx)("div",{className:"col-12",children:Object(I.jsx)("div",{className:"card",children:Object(I.jsxs)("div",{className:"card__body",children:[Object(I.jsxs)("div",{className:"row",children:[Object(I.jsxs)("div",{className:"col-3",children:[Object(I.jsx)("p",{children:"Date d\xe9but d'action"}),Object(I.jsx)(Ie.a,{dateAdapter:Re.a,children:Object(I.jsx)(Ye.a,{spacing:5,children:Object(I.jsx)(Ae.a,{value:S,onChange:function(e){y(e)},renderInput:function(e){return Object(I.jsx)(De.a,Object(d.a)({},e))}})})})]}),Object(I.jsxs)("div",{className:"col-3",children:[Object(I.jsx)("p",{children:"Date fin d'action"}),Object(I.jsx)(Ie.a,{dateAdapter:Re.a,children:Object(I.jsx)(Ye.a,{spacing:5,children:Object(I.jsx)(Ae.a,{value:M,onChange:function(e){T(e)},renderInput:function(e){return Object(I.jsx)(De.a,Object(d.a)({},e))}})})})]}),Object(I.jsxs)("div",{className:"col-6",children:[Object(I.jsx)("p",{children:"Trouv\xe9 un utilisateur"}),Object(I.jsxs)("div",{className:"topnav__search",children:[Object(I.jsx)("input",{type:"text",className:"form-control",placeholder:"Recherche ",onChange:function(e){return k(e.target.value)}}),Object(I.jsx)("i",{className:"bx bx-search"})]})]})]}),Object(I.jsx)(fe.a,{component:ge.a,children:Object(I.jsxs)(he.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(I.jsx)(pe.a,{children:Object(I.jsxs)(ve.a,{children:[Object(I.jsx)(xe.a,{align:"center",children:"Nom"}),Object(I.jsx)(xe.a,{align:"center",children:"Action "}),Object(I.jsx)(xe.a,{align:"center",children:"Interlocuteur"}),Object(I.jsx)(xe.a,{align:"center",children:"Societes"}),Object(I.jsx)(xe.a,{align:"center",children:"info"})]})}),Object(I.jsx)(me.a,{children:c.filter((function(e){return""===F.toLowerCase()?e:e.username.toLowerCase().includes(F.toLowerCase())})).slice(K*z,K*z+z).map((function(e,t){return Object(I.jsxs)(ve.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(I.jsx)(xe.a,{align:"center",children:e.username}),Object(I.jsx)(xe.a,{align:"center",children:U.filter((function(t){return t.id_utili===e.id})).length}),Object(I.jsx)(xe.a,{align:"center",children:O.filter((function(t){return t.id_utili===e.id})).length}),Object(I.jsx)(xe.a,{align:"center",children:o.filter((function(t){return t.id_utili===e.id})).length}),Object(I.jsx)(xe.a,{align:"center",style:{minWidth:50},children:Object(I.jsx)(He.a,{"aria-label":"Example",href:"/user/".concat(e.id),children:Object(I.jsx)(lc,{icon:Ue.faFile})})})]},t)}))})]})}),Object(I.jsx)(Ne.a,{rowsPerPageOptions:[2,5,10],component:"div",labelRowsPerPage:"lignes par page",count:c.length,rowsPerPage:z,page:K,onPageChange:function(e){Q(e)},onRowsPerPageChange:function(e){H(+e.target.value),Q(0)},labelDisplayedRows:function(e){var t=e.from,c=e.to,n=e.count;return"Affichage des pages ".concat(t,"-").concat(c," sur un total de  ").concat(n," pages")}})]})})})})]}):Object(I.jsx)("div",{className:"sidebar__item",children:Object(I.jsxs)("div",{disabled:!0,className:"sidebar__item-inner ",children:[Object(I.jsx)("i",{className:"bx bxs-user-x"}),Object(I.jsx)("span",{children:"pas connecter"})]})})})},jc=c(235),uc=function(e){var t=Object(n.useState)([]),c=Object(b.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(!1),i=Object(b.a)(r,2),o=i[0],l=i[1],j=Object(n.useState)(""),u=Object(b.a)(j,2),O=u[0],h=u[1],m=Object(n.useRef)(),x=Object(n.useRef)(),f=Object(n.useState)([]),v=Object(b.a)(f,2),g=v[0],N=v[1],_=A(),E=D(),S=p.getCurrentUser();Object(n.useEffect)((function(){G(),E&&Oe.CemecaListe().then((function(e){return N(e)})),_&&Oe.AllSociete().then((function(e){return N(e)}))}),[_,E]);var y=Object(ne.g)(),P=parseInt(y.id),C=g.filter((function(e){return e.siret===P})),M=Object(n.useState)({initialState:{nom:"",prenom:"",email:"",adresse:"",code_postale:"",tel:"",activite:"",id_utili:"",id_soc:""}}),w=Object(b.a)(M,2),T=w[0],Y=w[1],R=Object(n.useState)([]),F=Object(b.a)(R,2),k=F[0],L=F[1],G=function(){Bt.findAll().then((function(e){L(e.data)})).catch((function(e){console.log(e)}))},V=k.filter((function(e){return e.id_soc===P}));console.log(P,"nb"),console.log(k,"liste"),console.log(V,"flter");var U=function(e){var t=e.target,c=t.name,n=t.value;Y(Object(d.a)(Object(d.a)({},T),{},Object(Gt.a)({},c,n)))};return Object(I.jsx)("div",{className:"col-md-12",children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{className:"col-6",children:Object(I.jsxs)("div",{className:"card card-container",children:[Object(I.jsx)("h1",{children:" Ajouter un interlocuteur "}),Object(I.jsxs)(ot.a,{onSubmit:function(e){var t=a.join(),c={nom:T.nom,prenom:T.prenom,email:T.email,adresse:T.adresse,code_postale:T.code_postale,tel:T.tel,fonction_inter:t,id_utili:S.id,id_soc:P};e.preventDefault(),m.current.validateAll(),0===x.current.context._errors.length&&Bt.create(c).then((function(e){Y({nom:e.data.nom,prenom:e.data.prenom,email:e.data.email,adresse:e.data.adresse,code_postale:e.data.code_postale,tel:e.data.tel,fonction_inter:e.data.fonction_inter,id_utili:e.data.id_utili,id_soc:e.data.id_soc}),l(!0),h(e.data.message),window.location.reload()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();h(t)})).catch((function(e){console.log(e)}))},ref:m,children:[!o&&Object(I.jsxs)("div",{children:[C.map((function(e,t){return Object(I.jsxs)(yt.a,{variant:"body2",children:[Object(I.jsx)("i",{class:"bx bx-message-alt-dots"}),e.nom_soc]},t)})),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"username",children:"nom"}),Object(I.jsx)(dt.a,{type:"text",className:"form-control",name:"nom",value:T.nom,onChange:U})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"username",children:"prenom"}),Object(I.jsx)(dt.a,{type:"text",className:"form-control",name:"prenom",value:T.prenom,onChange:U})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"username",children:"email"}),Object(I.jsx)(dt.a,{type:"text",className:"form-control",name:"email",value:T.email,onChange:U})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"email",children:"tel"}),Object(I.jsx)(dt.a,{type:"text",className:"form-control",name:"tel",value:T.tel,onChange:U})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"fonction"}),Object(I.jsx)(Xt.a,{displayValue:"NOM",groupBy:"TYPE",value:"4",isObject:!0,selectedValues:console.log,onChange:console.log,id:console.log,onNOMPressFn:function(){},onRemove:function(){},onSearch:function(){},onSelect:function(e){s(Array.isArray(e)?e.map((function(e){return e.NOM})):[])},options:jc,showCheckbox:!0})]}),Object(I.jsx)("div",{className:"form-group",children:Object(I.jsx)("button",{className:"btn btn-primary btn-block",children:"Ajouter"})})]}),O&&Object(I.jsx)("div",{className:"form-group",children:Object(I.jsx)("div",{className:o?"alert alert-success":"alert alert-danger",role:"alert",children:O})}),Object(I.jsx)(ut.a,{style:{display:"none"},ref:x})]})]})}),Object(I.jsxs)("div",{className:"col-6",children:[Object(I.jsxs)("div",{className:"card card-container",children:[Object(I.jsx)("h1",{children:"liste des interlocuteurs"}),Object(I.jsx)(fe.a,{component:ge.a,children:Object(I.jsxs)(he.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(I.jsx)(pe.a,{children:Object(I.jsxs)(ve.a,{children:[Object(I.jsx)(xe.a,{children:"nom"}),Object(I.jsx)(xe.a,{align:"left",children:"prenom"}),Object(I.jsx)(xe.a,{align:"left",children:"fonction"}),Object(I.jsx)(xe.a,{align:"left",children:"email"}),Object(I.jsx)(xe.a,{align:"left",children:"telephone"})]})}),Object(I.jsx)(me.a,{children:V.map((function(e){return Object(I.jsxs)(ve.a,{children:[Object(I.jsx)(xe.a,{children:Object(I.jsx)("a",{href:"/Action/".concat(P),children:e.nom})}),Object(I.jsx)(xe.a,{children:e.prenom}),Object(I.jsx)(xe.a,{children:e.fonction_inter}),Object(I.jsx)(xe.a,{children:e.email}),Object(I.jsx)(xe.a,{children:e.tel})]},e.nom)}))})]})})]}),Object(I.jsx)("div",{className:"card__footer",children:Object(I.jsx)("a",{href:"/Interl",children:"Plus info"})})]})]})})},bc=c(558),Oc=c(560),hc=c(559);var mc=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(""),i=Object(b.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)([]),j=Object(b.a)(d,2),u=j[0],O=j[1],h=Object(n.useState)([]),m=Object(b.a)(h,2),x=m[0],f=m[1];Object(n.useEffect)((function(){Bt.findAll().then((function(e){s(e.data)})).catch((function(e){console.log(e)})),w.getListe_User().then((function(e){O(e.data),console.log(e.data)})).catch((function(e){console.log(e)})),Oe.AllSociete().then((function(e){return f(e)}))}),[]),console.log(u,"liste user"),console.log(x,"les societes");var p=Object(I.jsxs)(a.a.Fragment,{children:[c.filter((function(e){return""===o.toLowerCase()?e:e.nom.toLowerCase().includes(o.toLowerCase())})).map((function(e){return Object(I.jsxs)(bc.a,{variant:"outlined",children:[Object(I.jsxs)(hc.a,{children:[Object(I.jsxs)(yt.a,{variant:"h5",component:"div",children:[Object(I.jsx)("i",{class:"bx bxs-id-card"}),": ",e.nom]}),Object(I.jsxs)(yt.a,{variant:"body2",children:["Fonction : ",e.fonction_inter]}),u.filter((function(t){return t.id===e.id_utili})).map((function(e){return Object(I.jsxs)(yt.a,{variant:"body2",children:["nom commercial : ",e.username]})})),x.filter((function(t){return t.siret===e.id_soc})).map((function(e){return Object(I.jsxs)(yt.a,{variant:"body2",children:["nom commercial : ",e.nom_soc]})})),Object(I.jsxs)(yt.a,{sx:{mb:1.5},color:"text.secondary",children:["Telephone :  ",e.tel]})]}),Object(I.jsx)(Oc.a,{children:Object(I.jsx)(ze.a,{href:"/Inter/modifier/".concat(e.id_interlocuteur),size:"small",children:"Modifier"})})]})})),Object(I.jsx)(Oc.a,{children:Object(I.jsx)(ze.a,{href:"/",size:"small",children:"Retour"})})]});return Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{className:"col-12 list",children:Object(I.jsx)("div",{className:"topnav",children:Object(I.jsxs)("div",{className:"topnav__search",children:[Object(I.jsx)("input",{type:"text",className:"form-control",placeholder:"Recherche ",onChange:function(e){return l(e.target.value)}}),Object(I.jsx)("i",{className:"bx bx-search"})]})})}),Object(I.jsx)("div",{children:Object(I.jsx)(se.a,{sx:{minWidth:260},children:Object(I.jsx)("div",{children:p})})})]})};var xc=function(){T();var e=Object(n.useState)([]),t=Object(b.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)([]),i=Object(b.a)(r,2),o=i[0],l=i[1],d=p.getCurrentUser(),j=Object(n.useState)([]),u=Object(b.a)(j,2),O=u[0],h=u[1],m=Object(ne.g)(),x=parseInt(m.id),f=o.filter((function(e){return e.id_soc===x})),v=(A(),D(),Object(n.useState)([])),g=Object(b.a)(v,2),N=g[0],_=g[1];Object(n.useEffect)((function(){Oe.AllSociete().then((function(e){return s(e)}))}),[]);var E=c.filter((function(e){return e.siret===x})),S=E.map((function(e){return e.nom_soc})),y=(S.toString(),N.filter((function(e){return e.nom_societe===S.toString()})));y.sort((function(e,t){return new Date(e.date_rdv).getTime()-new Date(t.date_rdv).getTime()})),Object(n.useEffect)((function(){d&&(X.findAll().then((function(e){_(e.data),console.log(e.data)})).catch((function(e){console.log(e)})),Bt.findAll().then((function(e){l(e.data)})).catch((function(e){console.log(e)}))),w.getListe_User().then((function(e){h(e.data)})).catch((function(e){console.log(e)}))}),[]),console.log(O);var P=function(e){var t=O.find((function(t){return t.id===e}));return t?t.username:"Unknown"};console.log(P(1));var C=Object(I.jsx)(a.a.Fragment,{children:E.map((function(e){return Object(I.jsxs)(hc.a,{children:[Object(I.jsxs)(yt.a,{variant:"h5",component:"div",children:[Object(I.jsx)("i",{class:"bx bxs-bank danger"}),": ",e.nom_soc]}),Object(I.jsxs)(yt.a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:["siret : ",e.siret]}),Object(I.jsxs)(yt.a,{variant:"body2",children:["siren : ",e.siren]}),Object(I.jsxs)(yt.a,{variant:"body2",children:["R\xe9sponsable : ",P(e.id_utili)]}),Object(I.jsxs)(yt.a,{sx:{mb:1.5},color:"text.secondary",children:["date de creation : ",ye()(e.createdAt).format("DD  MMMM YYYY  HH:mm")]}),"undefined"!==typeof e.description&&""!==e.observation&&Object(I.jsxs)(yt.a,{variant:"body2",children:["observation : ",e.description]}),Object(I.jsxs)(yt.a,{variant:"body2",children:["Code naf : ",e.activite_soc]}),Object(I.jsxs)(yt.a,{variant:"body2",children:["Libelle naf : ",e.libelle_naf]}),Object(I.jsxs)(yt.a,{variant:"body2",children:["adresse postal  : ",e.adresse_local," ",e.ville_soc," ",e.code_postal]}),Object(I.jsxs)(yt.a,{variant:"body2",children:["Origine du prospect : ",e.origineprospect]}),Object(I.jsxs)(yt.a,{variant:"body2",children:["syndicat : ",e.syndicat]}),Object(I.jsxs)(yt.a,{variant:"body2",children:["telephone : ",e.tel]}),Object(I.jsxs)(yt.a,{variant:"body1",children:["les interlocuteurs ratacher a cette societe",f.map((function(e,t){return Object(I.jsxs)(yt.a,{variant:"body2",children:[Object(I.jsx)("i",{class:"bx bxs-user"})," ",e.nom]},t)}))]}),Object(I.jsxs)(yt.a,{variant:"body1",children:["les Activit\xe9s Commerciales",y.map((function(e,t){return Object(I.jsxs)("div",{children:[Object(I.jsxs)(yt.a,{variant:"body2",children:[Object(I.jsx)("i",{class:"bx bx-message-alt-dots"}),ye()(e.date_rdv).format("DD  MMMM YYYY  HH:mm")]}),"undefined"!==typeof e.besoin&&""!==e.besoin&&Object(I.jsxs)(yt.a,{variant:"body2",children:["besoin : ",e.besoin]}),"undefined"!==typeof e.description&&""!==e.description&&Object(I.jsxs)(yt.a,{variant:"body2",children:["description : ",e.description]})]},t)}))]}),Object(I.jsx)(yt.a,{variant:"h5",component:"div",children:Object(I.jsx)(Ye.a,{spacing:1,alignItems:"center",children:Object(I.jsx)(Oc.a,{children:Object(I.jsx)(ze.a,{href:"/modifier/".concat(x),size:"small",children:"modification"})})})}),Object(I.jsx)(yt.a,{variant:"h5",component:"div",children:Object(I.jsx)(Ye.a,{spacing:1,alignItems:"center",children:Object(I.jsx)(Oc.a,{children:Object(I.jsx)(ze.a,{href:"/Societes",size:"small",children:"retour"})})})})]})}))});return Object(I.jsx)(se.a,{sx:{minWidth:275},children:Object(I.jsx)(bc.a,{variant:"outlined",children:C})})},fc=c(236),pc=c.n(fc);var vc=function(){var e=a.a.useState(10),t=Object(b.a)(e,2),c=(t[0],t[1],a.a.useState(0)),s=Object(b.a)(c,2),r=(s[0],s[1],Object(ne.g)()),i=parseInt(r.id),o=Object(n.useRef)(null),l=p.getCurrentUser(),j=Object(n.useState)([]),u=Object(b.a)(j,2),O=u[0],h=u[1],m=Object(n.useState)([]),x=Object(b.a)(m,2),f=x[0],v=x[1],g=Object(n.useState)([]),N=Object(b.a)(g,2),_=N[0],E=N[1],S=_.filter((function(e){return e.id_utili===i}));S.sort((function(e,t){return new Date(t.date_rdv).getTime()-new Date(e.date_rdv).getTime()})),Object(n.useEffect)((function(){w.getListe_User().then((function(e){h(e.data)})).catch((function(e){console.log(e)})),l&&(Oe.AllSociete().then((function(e){return v(e)})),X.findAll().then((function(e){E(e.data)})))}),[]),console.log(f);var y=new Date;y.setMonth(y.getMonth()+1);var P=Object(n.useState)(""),C=Object(b.a)(P,2),M=C[0],T=C[1],A=Object(n.useState)(""),D=Object(b.a)(A,2),Y=D[0],R=D[1],F=Object(n.useState)(!1),k=Object(b.a)(F,2),L=k[0],G=k[1],V=864e5,U=_.filter((function(e){return(new Date(e.date_rdv)-Y)/V<0&&(new Date(e.date_rdv)-M)/V>0})).filter((function(e){return e.id_utili===l.id}));return console.log(U),O.filter((function(e){return e.id===i})).sort((function(e,t){return new Date(t.date_rdv).getTime()-new Date(e.date_rdv).getTime()})),console.log(Date.now()),Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)(se.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsxs)("div",{className:"col-6",children:[Object(I.jsx)("p",{children:"Date d\xe9but d'action"}),Object(I.jsx)(Ie.a,{dateAdapter:Re.a,children:Object(I.jsx)(Ye.a,{spacing:5,children:Object(I.jsx)(Ae.a,{value:M,onChange:function(e){T(e)},renderInput:function(e){return Object(I.jsx)(De.a,Object(d.a)({},e))}})})})]}),Object(I.jsxs)("div",{className:"col-6",children:[Object(I.jsx)("p",{children:"Date fin d'action"}),Object(I.jsx)(Ie.a,{dateAdapter:Re.a,children:Object(I.jsx)(Ye.a,{spacing:5,children:Object(I.jsx)(Ae.a,{value:Y,onChange:function(e){R(e),G(!0)},renderInput:function(e){return Object(I.jsx)(De.a,Object(d.a)({},e))}})})})]})]})})}),Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)(Ft.DownloadTableExcel,{filename:"Compte-rendu",sheet:"Compte-rendu",currentTableRef:o.current,children:Object(I.jsx)(ze.a,{variant:"contained",color:"success",endIcon:Object(I.jsx)(pc.a,{}),children:"Excel"})})}),Object(I.jsx)(fe.a,{component:ge.a,children:Object(I.jsxs)(he.a,{sx:{minWidth:650},"aria-label":"simple table",ref:o,children:[Object(I.jsx)(pe.a,{children:Object(I.jsxs)(ve.a,{children:[Object(I.jsx)(xe.a,{align:"center",children:"Nom soci\xe9t\xe9"}),Object(I.jsx)(xe.a,{align:"center",children:"Date du RDV"}),Object(I.jsx)(xe.a,{align:"center",children:"Nom interlocuteur"}),Object(I.jsx)(xe.a,{align:"center",children:"Cr\xe9dit_cop"}),Object(I.jsx)(xe.a,{align:"center",children:"compte rendu "}),Object(I.jsx)(xe.a,{align:"center",children:"besoin"}),Object(I.jsx)(xe.a,{align:"center",children:"Etat"})]})}),Object(I.jsx)(me.a,{}),Object(I.jsx)(me.a,{children:L?U.map((function(e,t){return Object(I.jsxs)(ve.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(I.jsx)(xe.a,{align:"center",children:e.nom_societe}),Object(I.jsx)(xe.a,{align:"center",children:ye()(e.date_rdv).format("DD  MMMM YYYY HH:mm")}),Object(I.jsx)(xe.a,{align:"center",children:e.nom_interlocuteur}),Object(I.jsxs)(xe.a,{align:"center",children:[" ",e.credit_cop]}),Object(I.jsxs)(xe.a,{align:"center",children:[" ",e.description]}),Object(I.jsxs)(xe.a,{align:"center",children:[" ",e.besoin]}),"realiser"===e.validation&&Object(I.jsx)(xe.a,{align:"center",children:Object(I.jsx)(_e.a,{label:"r\xe9alis\xe9",color:"success"})}),"non realiser"===e.validation&&Object(I.jsx)(xe.a,{align:"center",children:Object(I.jsx)(_e.a,{label:"Non r\xe9alis\xe9",color:"error"})})]},t)})):S.map((function(e,t){return Object(I.jsxs)(ve.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(I.jsx)(xe.a,{component:"th",scope:"row",children:f.filter((function(t){return t.nom_soc===e.nom_societe})).map((function(t,c){return Object(I.jsx)("a",{href:"/Societe/".concat(t.siret),children:e.nom_societe},c)}))}),Object(I.jsx)(xe.a,{align:"center",children:ye()(e.date_rdv).format("DD  MMMM YYYY HH:mm")}),Object(I.jsx)(xe.a,{align:"center",children:e.nom_interlocuteur}),Object(I.jsxs)(xe.a,{align:"center",children:[" ",e.credit_cop]}),Object(I.jsxs)(xe.a,{align:"center",children:[" ",e.description]}),Object(I.jsxs)(xe.a,{align:"center",children:[" ",e.besoin]}),"realiser"===e.validation&&Object(I.jsx)(xe.a,{align:"center",children:Object(I.jsx)(_e.a,{label:"r\xe9alis\xe9",color:"success"})}),"non realiser"===e.validation&&Object(I.jsx)(xe.a,{align:"center",children:Object(I.jsx)(_e.a,{label:"Non r\xe9alis\xe9",color:"error"})})]},t)}))})]})})]})},gc=function(){var e=cc.required,t=cc.vsiret,c=cc.vsiren,a=cc.vnom_soc,s=cc.vnom_responsable,r=cc.vid_role,i=cc.vcode_postal,o=cc.vopportunit\u00e9,l=cc.cville,j=cc.vobservation,u=cc.vtel,O=cc.vpays,h=cc.vadresse,m=Object(n.useState)({initialSocieteState:{siret:"",siren:"",nom_soc:"",nom_responsable_soc:"",date_creation_soc:"",activite_soc:"",adresse_local:"",pays:"",ville_soc:"",code_postal:"",syndicat:"",Origine_du_prospect:"",observation:"",tel:"",app_sofitech:"",app_cemeca:"",soc_sofitech:"",soc_cemeca:"",id_role:""}}),x=Object(b.a)(m,2),f=x[0],v=x[1],g=Object(n.useState)([]),N=Object(b.a)(g,2),_=N[0],E=N[1],S=Object(n.useState)(!1),y=Object(b.a)(S,2),P=y[0],C=y[1],M=Object(n.useState)(""),w=Object(b.a)(M,2),T=w[0],Y=w[1],R=Object(n.useState)([]),F=Object(b.a)(R,2),k=F[0],L=F[1],G=Object(n.useState)([]),V=Object(b.a)(G,2),U=V[0],B=V[1],W=Object(n.useRef)(),z=Object(n.useRef)(),H=Object(ne.g)(),q=parseInt(H.id),J=p.getCurrentUser(),X=A(),K=D(),Q=_.filter((function(e){return e.siret===q}));Object(n.useEffect)((function(){J&&(K&&Oe.CemecaListe().then((function(e){return E(e)})),X&&Oe.AllSociete().then((function(e){return E(e)})))}),[X,K]),console.log(_);var $=function(e){var t=e.target,c=t.name,n=t.value;v(Object(d.a)(Object(d.a)({},f),{},Object(Gt.a)({},c,n)))};return Object(I.jsxs)("div",{className:"card card-container",children:[Object(I.jsx)("h2",{className:" col-md-6 page-`header",children:"Modification"}),Object(I.jsx)("div",{className:"submit-form",children:Object(I.jsxs)(ot.a,{onSubmit:function(e){var t=k.join(),c=U.join(),n={siret:f.siret,siren:f.siren,nom_soc:f.nom_soc,nom_responsable_soc:f.nom_responsable_soc,date_creation_soc:f.date_creation_soc,activite_soc:f.activite_soc,adresse_local:f.adresse_local,pays:f.pays,ville_soc:f.ville_soc,code_postal:f.code_postal,syndicat:t,Origine_du_prospect:c,observation:f.observation,tel:f.tel,id_role:f.id_role,message:T.message,successful:P.successful};e.preventDefault(),W.current.validateAll(),0===z.current.context._errors.length&&tc.update(f.siret,n).then((function(e){v({siren:e.data.siren,siret:e.data.siret,nom_soc:e.data.nom_soc,nom_responsable_soc:e.data.nom_responsable_soc,activite_soc:e.data.activite_soc,adresse_local:e.data.adresse_local,pays:e.data.pays,ville_soc:e.data.ville_soc,code_postal:e.data.code_postal,syndicat:e.data.syndicat,Origine_du_prospect:e.data.Origine_du_prospect,observation:e.data.observation,tel:e.data.tel,date:e.data.date,id_role:e.data.id_role}),C(!0),Y(e.data.message),console.log(f.syndicat,"syndicat")}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();Y(t)})).catch((function(e){console.log(e)}))},ref:W,children:[!P&&Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"siret"}),Q.map((function(c){return Object(I.jsx)("input",{type:"text",className:"form-control",id:"title",defaultValue:c.siret,value:f.siret=c.siret,onChange:$,validations:[e,t],name:"siret"})}))]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"siren"}),Q.map((function(t){return Object(I.jsx)("input",{type:"text",className:"form-control",id:"title",defaultValue:t.siren,value:f.siren,onChange:$,validations:[e,c],name:"siren"})}))]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"nom de la societe"}),Q.map((function(t){return Object(I.jsx)("input",{type:"text",className:"form-control",id:"title",defaultValue:t.nom_soc,value:f.nom_soc,onChange:$,validations:[e,a],name:"nom_soc"})}))]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"nom du delegu\xe9"}),Q.map((function(t){return Object(I.jsx)("input",{type:"text",className:"form-control",id:"title",defaultValue:t.nom_responsable_soc,value:f.nom_responsable_soc,onChange:$,validations:[e,s],name:"nom_responsable_soc"})}))]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"code naf"}),Q.map((function(t){return Object(I.jsx)("input",{type:"text",className:"form-control",id:"title",defaultValue:t.activite_soc,value:f.activite_soc,onChange:$,validations:[e,j],name:"activite_soc"})}))]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"adresse_local"}),Q.map((function(t){return Object(I.jsx)("input",{type:"text",className:"form-control",id:"title",defaultValue:t.adresse_local,value:f.adresse_local,onChange:$,validations:[e,h],name:"adresse_local"})}))]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"pays"}),Q.map((function(t){return Object(I.jsx)("input",{type:"text",className:"form-control",id:"title",defaultValue:t.ville_soc,value:f.pays,onChange:$,validations:[e,O],name:"pays"})}))]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"ville_soc"}),Q.map((function(t){return Object(I.jsx)("input",{type:"text",className:"form-control",id:"title",value:f.ville_soc,defaultValue:t.ville_soc,onChange:$,validations:[e,l],name:"ville_soc"})}))]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"text",children:"code_postale"}),Q.map((function(t){return Object(I.jsx)(dt.a,{type:"text",className:"form-control",id:"title",defaultValue:t.code_postal,value:f.code_postal=t.code_postal,onChange:$,validations:[e,i],name:"code_postal"})}))]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"origine du prospect "}),Object(I.jsx)(Xt.a,{displayValue:"NOM",groupBy:"TYPE",value:"4",isObject:!0,selectedValues:console.log,onChange:console.log,id:console.log,onNOMPressFn:function(){},onRemove:function(){},onSearch:function(){},onSelect:function(e){B(Array.isArray(e)?e.map((function(e){return e.NOM})):[])},options:ac,emptyRecordMsg:"No options available",showCheckbox:!0})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"syndicat"}),Object(I.jsx)(Xt.a,{displayValue:"NOM",groupBy:"TYPE",value:"4",isObject:!0,selectedValues:console.log,onChange:console.log,id:console.log,onNOMPressFn:function(){},onRemove:function(){},onSearch:function(){},onSelect:function(e){L(Array.isArray(e)?e.map((function(e){return e.NOM})):[])},options:nc,showCheckbox:!0})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"observation"}),Q.map((function(t){return Object(I.jsx)("input",{type:"text",className:"form-control",id:"title",value:f.observation,defaultValue:t.observation,onChange:$,validations:[e,o],name:"observation"})}))]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"telephone Societes"}),Q.map((function(t){return Object(I.jsx)("input",{type:"text",className:"form-control",id:"title",defaultValue:t.tel,value:f.tel,onChange:$,validations:[e,u],name:"tel"})}))]}),Object(I.jsxs)("select",{validations:[e,r],value:f.id_role,onChange:$,name:"id_role",children:[Object(I.jsx)("option",{children:"select une valeur"}),Object(I.jsx)("option",{value:"1",children:"cemeca"}),Object(I.jsx)("option",{value:"2",children:"sofitech"})]}),Object(I.jsx)("button",{className:"btn btn-success",children:"Submit"})]}),T&&Object(I.jsx)("div",{className:"form-group",children:Object(I.jsx)("div",{className:P?"alert alert-success":"alert alert-danger",role:"alert",children:T})}),Object(I.jsx)(ut.a,{style:{display:"none"},ref:z})]})})]})},Nc=function(){var e=cc.required,t=cc.vsiret,c=cc.vsiren,a=cc.vnom_soc,s=Object(n.useState)({initialSocieteState:{id:"",date_action:"",description:"",nom_interlocuteur:"",type_action:"",nom_societe:"",date_rdv:"",createdAt:"",besoin:""}}),r=Object(b.a)(s,2),i=r[0],o=r[1],l=Object(n.useState)([]),j=Object(b.a)(l,2),u=j[0],O=j[1],h=Object(n.useState)([]),m=Object(b.a)(h,2),x=m[0],f=m[1],v=Object(n.useState)([]),g=Object(b.a)(v,2),N=g[0],_=g[1],E=A(),S=D(),y=Object(n.useState)(!1),P=Object(b.a)(y,2),C=P[0],M=P[1],w=Object(n.useState)(""),T=Object(b.a)(w,2),Y=T[0],R=T[1],F=Object(n.useState)([]),k=Object(b.a)(F,2),L=k[0],G=k[1],V=Object(n.useState)([]),U=Object(b.a)(V,2),B=U[0],W=U[1],z=Object(n.useState)([]),H=Object(b.a)(z,2),q=H[0],J=H[1],K=Object(n.useRef)(),Q=Object(n.useRef)(),$=[{value:"RDV",label:"RDV"},{value:"contact t\xe9l\xe9phonique",label:"contact t\xe9l\xe9phonique"},{value:"contact teams",label:"contact teams"},{value:"contact par courrier",label:"contact par courrier"}],Z=function(e){G(Array.isArray(e)?e.map((function(e){return e.label})):[])},ee=function(e){W(Array.isArray(e)?e.map((function(e){return e.nom})):[])},te=function(e){J(Array.isArray(e)?e.map((function(e){return e.NOM})):[])},ce=Object(ne.g)(),ae=parseInt(ce.id),se=p.getCurrentUser(),re=Object(n.useState)(""),ie=Object(b.a)(re,2),oe=ie[0],le=ie[1],de=Object(n.useState)([]),je=Object(b.a)(de,2),ue=je[0],be=je[1],he=u.filter((function(e){return e.id===ae})),me=x.filter((function(e){return e.nom_soc===oe})),xe=N.filter((function(e){return e.id_soc===ue}));Object(n.useEffect)((function(){se&&(Bt.findAll().then((function(e){_(e.data)})).catch((function(e){console.log(e)})),X.findAll().then((function(e){O(e.data)})).catch((function(e){console.log(e)})),S&&Oe.CemecaListe().then((function(e){return f(e)})),E&&Oe.AllSociete().then((function(e){return f(e)})))}),[S,E]),Object(n.useEffect)((function(){he.map((function(e){le(e.nom_societe)}))}),[he]),Object(n.useEffect)((function(){me.map((function(e){be(e.siret)}))}),[me]);var fe=function(e){var t=e.target,c=t.name,n=t.value;o(Object(d.a)(Object(d.a)({},i),{},Object(Gt.a)({},c,n)))};return Object(I.jsx)("div",{className:"submit-form",children:Object(I.jsxs)(ot.a,{onSubmit:function(e){var t=L.join(),c=q.join(),n=B.join(),a={id:parseInt(ce.id),date_action:i.date_action,description:i.description,nom_interlocuteur:n,type_action:t,besoin:c,date_rdv:i.date_rdv,message:Y.message,successful:C.successful};e.preventDefault(),K.current.validateAll(),0===Q.current.context._errors.length&&(console.log("bouton clicker"),X.update(ae,a).then((function(e){o({id:e.data.id,date_action:e.data.date_action,description:e.data.description,nom_interlocuteur:e.data.nom_interlocuteur,type_action:e.data.type_action,date_rdv:e.data.date_rdv,nom_societe:e.data.nom_societe,besoin:e.data.besoin}),M(!0),R("Action modifi\xe9e avec succ\xe8s")}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();R(t)})).catch((function(e){console.log(e)})))},ref:K,children:[!C&&Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"Soci\xe9t\xe9"}),he.map((function(c){return Object(I.jsx)("input",{type:"text",className:"form-control",id:"title",defaultValue:c.nom_societe,value:i.nom_societe=c.nom_societe,onChange:fe,validations:[e,t],name:"nom_societe"})}))]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"date RDV"}),he.map((function(t){return Object(I.jsx)("input",{type:"datetime-local",className:"form-control",id:"title",defaultValue:t.date_rdv.toString().substring(0,16),value:i.date_rdv,onChange:fe,validations:[e,c],name:"date_rdv"})}))]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"description"}),he.map((function(t){return Object(I.jsx)("input",{type:"text",className:"form-control",id:"title",defaultValue:t.description,value:i.description,onChange:fe,validations:[e,a],name:"description"})}))]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"interlocuteur"}),he.map((function(e){return Object(I.jsx)(Xt.a,{displayValue:"nom",value:"4",isObject:!0,selectedValues:[{nom:e.nom_interlocuteur}],onChange:console.log,id:console.log,onNOMPressFn:function(){},onRemove:function(){},onSearch:function(){},onSelect:ee,options:xe,showCheckbox:!0})}))]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"Type d activite commerciale"}),he.map((function(e){return Object(I.jsx)(Xt.a,{displayValue:"label",value:"4",isObject:!0,selectedValues:[{label:e.type_action}],onChange:console.log,id:console.log,onNOMPressFn:function(){},onRemove:function(){},onSearch:function(){},onSelect:Z,options:$,showCheckbox:!0})}))]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"besoin"}),he.map((function(e){return Object(I.jsx)(Xt.a,{displayValue:"NOM",value:"4",isObject:!0,selectedValues:[{NOM:e.besoin}],onChange:console.log,id:console.log,onNOMPressFn:function(){},onRemove:function(){},onSearch:function(){},onSelect:te,options:Qt,showCheckbox:!0})}))]}),Object(I.jsx)("button",{className:"btn btn-success",children:"Valider"})]}),Y&&Object(I.jsx)("div",{className:"form-group",children:Object(I.jsx)("div",{className:C?"alert alert-success":"alert alert-danger",role:"alert",children:Y})}),Object(I.jsx)(ut.a,{style:{display:"none"},ref:Q})]})})},_c=function(){var e=cc.required,t=cc.vsiret,c=cc.vsiren,a=cc.vnom_soc,s=cc.vnom_responsable,r=cc.vobservation,i=cc.vadresse,o=Object(n.useState)({initialSocieteState:{id:"",nom:"",prenom:"",email:"",adresse:"",code_postal:"",tel:"",fonction_inter:""}}),l=Object(b.a)(o,2),j=l[0],u=l[1],O=Object(n.useState)([]),h=Object(b.a)(O,2),m=h[0],x=h[1],f=Object(n.useState)(!1),v=Object(b.a)(f,2),g=v[0],N=v[1],_=Object(n.useState)(""),E=Object(b.a)(_,2),S=E[0],y=E[1],P=Object(n.useState)([]),C=Object(b.a)(P,2),M=C[0],w=(C[1],Object(n.useRef)()),T=Object(n.useRef)();console.log("test",M);var A=Object(ne.g)(),D=parseInt(A.id),Y=p.getCurrentUser(),R=m.filter((function(e){return e.id_interlocuteur===D}));Object(n.useEffect)((function(){Y&&Bt.findAll().then((function(e){x(e.data)})).catch((function(e){console.log(e)}))}),[]);var F=function(e){var t=e.target,c=t.name,n=t.value;u(Object(d.a)(Object(d.a)({},j),{},Object(Gt.a)({},c,n)))};return Object(I.jsx)("div",{className:"submit-form",children:Object(I.jsxs)(ot.a,{onSubmit:function(e){var t={id_interlocuteur:j.id_interlocuteur,id_soc:j.id_soc,nom:j.nom,prenom:j.prenom,email:j.email,adresse:j.adresse,code_postal:j.code_postal,tel:j.tel,fonction_inter:j.fonction_inter,message:S.message,successful:g.successful};e.preventDefault(),w.current.validateAll(),0===T.current.context._errors.length&&Bt.update(j.id_interlocuteur,t).then((function(e){u({id_interlocuteur:e.data.id_interlocuteur,id_soc:e.data.id_soc,nom:e.data.nom,prenom:e.data.prenom,email:e.data.email,adresse:e.data.adresse,code_postal:e.data.code_postal,tel:e.data.tel,fonction_inter:e.data.fonction_inter}),N(!0),y(e.data.message)}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();y(t)})).catch((function(e){console.log(e)}))},ref:w,children:[!g&&Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"id"}),R.map((function(c){return Object(I.jsx)("input",{type:"text",className:"form-control",id:"title",defaultValue:c.id_interlocuteur,value:j.id_interlocuteur=c.id_interlocuteur,onChange:F,validations:[e,t],name:"id_interlocuteur"})}))]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"Soci\xe9t\xe9"}),R.map((function(t){return Object(I.jsx)("input",{type:"text",className:"form-control",id:"title",defaultValue:t.id_soc,value:j.id_soc,onChange:F,validations:[e,c],name:"id_soc"})}))]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"nom"}),R.map((function(t){return Object(I.jsx)("input",{type:"text",className:"form-control",id:"title",defaultValue:t.nom,value:j.nom,onChange:F,validations:[e,c],name:"nom"})}))]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"prenom"}),R.map((function(t){return Object(I.jsx)("input",{type:"text",className:"form-control",id:"title",defaultValue:t.prenom,value:j.prenom,onChange:F,validations:[e,a],name:"prenom"})}))]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"email"}),R.map((function(t){return Object(I.jsx)("input",{type:"text",className:"form-control",id:"title",defaultValue:t.email,value:j.email,onChange:F,validations:[e,s],name:"email"})}))]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"code naf"}),R.map((function(t){return Object(I.jsx)("input",{type:"text",className:"form-control",id:"title",defaultValue:t.adresse,value:j.adresse,onChange:F,validations:[e,r],name:"adresse"})}))]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"title",children:"tel"}),R.map((function(t){return Object(I.jsx)("input",{type:"text",className:"form-control",id:"title",defaultValue:t.tel,value:j.tel,onChange:F,validations:[e,i],name:"tel"})}))]}),Object(I.jsx)("button",{className:"btn btn-success",children:"Valider"})]}),S&&Object(I.jsx)("div",{className:"form-group",children:Object(I.jsx)("div",{className:g?"alert alert-success":"alert alert-danger",role:"alert",children:S})}),Object(I.jsx)(ut.a,{style:{display:"none"},ref:T})]})})},Ec=function(){return Object(I.jsx)("div",{children:"vous n\u2019\xeates pas connect\xe9 !"})},Sc=function(e){var t=e.location,c=(e.props,(t.state||{}).fltr_date),a=Object(n.useState)(c||[]),s=Object(b.a)(a,2),r=s[0],i=s[1];console.log(c);var o=T(),l=Object(n.useState)([]),d=Object(b.a)(l,2),j=d[0],u=d[1],O=Object(n.useState)(""),h=Object(b.a)(O,2),m=h[0],x=h[1],f=A(),p=Object(n.useRef)(null);Object(n.useEffect)((function(){r.sort((function(e,t){return new Date(t.date_rdv).getTime()-new Date(e.date_rdv).getTime()})),f&&Oe.AllSociete().then((function(e){return u(e)})),""!==m&&i((function(e){return e.filter((function(e){return e.nom_societe.toLowerCase().includes(m.toLowerCase())}))}))}),[o,m,f]);return Object(I.jsx)(se.a,{sx:{minWidth:275},children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("h2",{className:"page-header",children:"Evolis"}),Object(I.jsxs)(tt.a,{container:!0,alignItems:"center",children:[Object(I.jsx)(tt.a,{item:!0,xs:12,md:4,children:Object(I.jsx)("input",{type:"text",className:"form-control",placeholder:"recherche par Soci\xe9t\xe9",value:m,onChange:function(e){var t=e.target.value||"";x(t)}})}),Object(I.jsx)(tt.a,{item:!0,xs:12,md:6,container:!0,justifyContent:"flex-end",children:Object(I.jsx)(Ft.DownloadTableExcel,{filename:"Compte-rendu",sheet:"Compte-rendu",currentTableRef:p.current,children:Object(I.jsx)(ze.a,{variant:"contained",color:"success",children:"Excel"})})})]}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{variant:"outlined",children:Object(I.jsx)(Xe.a,{component:Je.a,children:Object(I.jsxs)(Ke.a,{ref:p,children:[Object(I.jsx)(Qe.a,{children:Object(I.jsxs)($e.a,{children:[Object(I.jsx)(Ze.a,{style:{width:"60px",fontSize:"10px"},children:"\ud83c\udfe2 Code NAF"}),Object(I.jsx)(Ze.a,{style:{width:"60px",fontSize:"10px"},children:"\ud83c\udfe2 Libelle"}),Object(I.jsx)(Ze.a,{style:{width:"120px",fontSize:"10px"},children:"\u23f1\ufe0f Date activit\xe9 commerciale"}),Object(I.jsx)(Ze.a,{style:{width:"100px",fontSize:"10px"},children:"\ud83d\udcbc Nature d'investissement"}),Object(I.jsx)(Ze.a,{style:{width:"100px",fontSize:"10px"},children:"\ud83d\udccb Quelle Equipement"}),Object(I.jsx)(Ze.a,{style:{width:"100px",fontSize:"10px"},children:"\ud83d\udcb0 Montant"})]})}),Object(I.jsx)(et.a,{children:r.map((function(e){return console.log("Action data:",e),console.log("societeListe:",j),console.log("Filtered:",j.filter((function(t){return t.nom_soc.toLowerCase()===e.nom_societe.toLowerCase()}))),Object(I.jsxs)($e.a,{style:{fontSize:"10px"},children:[Object(I.jsx)(Ze.a,{style:{fontSize:"8px"},children:j.filter((function(t){return t.nom_soc.toLowerCase()===e.nom_societe.toLowerCase()})).map((function(e){return Object(I.jsx)("a",{href:"/Societe/".concat(e.siret),children:e.activite_soc},e.id)}))}),Object(I.jsx)(Ze.a,{style:{fontSize:"8px"},children:j.filter((function(t){return t.nom_soc.toLowerCase()===e.nom_societe.toLowerCase()})).map((function(e){return Object(I.jsx)("a",{href:"/Societe/".concat(e.siret),children:e.libelle_naf},e.id)}))}),Object(I.jsx)(Ze.a,{style:{fontSize:"10px"},children:ye()(e.date_rdv).format("DD MMMM YYYY HH:mm")}),Object(I.jsx)(Ze.a,{style:{fontSize:"8px"},children:e.besoin}),Object(I.jsx)(Ze.a,{style:{fontSize:"8px"},children:e.investissement}),Object(I.jsx)(Ze.a,{style:{fontSize:"8px"},children:e.montant})]},e.id)}))})]})})})]})})},yc=function(e){var t=e.userId,c=Object(n.useState)(null),a=Object(b.a)(c,2),s=a[0],r=a[1],i=Object(n.useState)(""),o=Object(b.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)(""),u=Object(b.a)(j,2),O=u[0],h=u[1],m=Object(n.useState)(""),f=Object(b.a)(m,2),v=f[0],g=f[1],N=Object(n.useState)(""),_=Object(b.a)(N,2),E=_[0],S=_[1],y=Object(n.useState)(!1),P=Object(b.a)(y,2),C=P[0],M=P[1];Object(n.useEffect)((function(){var e=function(){var e=Object(ce.a)(Object(te.a)().mark((function e(){var t,c,n;return Object(te.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=p.getCurrentUser(),e.next=4,x.a.get("http://localhost:8080/api/auth/days-since-password-change/".concat(t.id));case 4:c=e.sent,n=c.data,r(n.days),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching days since password change:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var w=30-s;return Object(I.jsx)("div",{children:w<=0?Object(I.jsx)("div",{children:Object(I.jsx)("p",{children:"Your password is expired."})}):Object(I.jsxs)("div",{children:[Object(I.jsxs)("p",{children:["You have ",w," days until your password expires."]}),Object(I.jsx)("div",{children:C?Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{children:"Old Password"}),Object(I.jsx)("input",{type:"password",value:l,onChange:function(e){return d(e.target.value)}}),Object(I.jsx)("label",{children:"New Password"}),Object(I.jsx)("input",{type:"password",value:O,onChange:function(e){return h(e.target.value)}}),Object(I.jsx)("label",{children:"Confirm New Password"}),Object(I.jsx)("input",{type:"password",value:v,onChange:function(e){return g(e.target.value)}}),Object(I.jsx)("button",{onClick:function(){/^(?=.*[A-Z])(?=.*[!@#$%^&*])(.{10,})$/.test(O)?O===v?p.changePassword(t,l,O).then((function(e){S(e.message),M(!1)})).catch((function(e){S(e.message)})):S("New passwords do not match."):S("New password must be at least 10 characters long and contain at least one uppercase letter and one special character.")},children:"Change Password"}),E&&Object(I.jsx)("div",{children:E})]}):Object(I.jsx)("button",{onClick:function(){return M(!0)},children:"Change Password"})})]})})};c(221);function Pc(e){return Object(I.jsxs)(yt.a,Object(d.a)(Object(d.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(I.jsx)(Nt.a,{color:"inherit",href:"https://crm.sofitech.pro/",children:"sofitech & cemeca"})," ",(new Date).getFullYear(),"."]}))}var Cc=Object(Ct.a)(),Mc=function(){Object(ne.f)();var e=Object(n.useRef)(),t=Object(n.useRef)(),c=Object(n.useState)(""),a=Object(b.a)(c,2),s=a[0],r=a[1],i=Object(n.useState)(void 0),o=Object(b.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)(""),u=Object(b.a)(j,2),O=u[0],h=u[1],m=function(c){c.preventDefault(),h(""),e.current.validateAll(),0===t.current.context._errors.length&&p.forgotPassword(s).then((function(){d(!0),setTimeout((function(){d(!1)}),1e3),h("mail envoyer !")}))};return Object(I.jsx)("div",{className:"col-md-12",children:l?Object(I.jsxs)("div",{className:"card card-container",children:[Object(I.jsx)(Mt.a,{theme:Cc,children:Object(I.jsxs)(Pt.a,{component:"main",maxWidth:"xs",children:[Object(I.jsx)(gt.a,{}),Object(I.jsxs)(se.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(I.jsx)(pt.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(I.jsx)(St.a,{})}),Object(I.jsxs)(yt.a,{component:"h1",variant:"h5",children:["Sign in",Object(I.jsx)("br",{}),Object(I.jsx)(Tt,{})]})]}),Object(I.jsx)(Pc,{sx:{mt:8,mb:4}})]})}),Object(I.jsx)(ot.a,{onSubmit:m,ref:e,children:Object(I.jsx)(ut.a,{style:{display:"none"},ref:t})})]}):Object(I.jsxs)("div",{className:"card card-container",children:[Object(I.jsx)(Mt.a,{theme:Cc,children:Object(I.jsxs)(Pt.a,{component:"main",maxWidth:"xs",children:[Object(I.jsx)(gt.a,{}),Object(I.jsxs)(se.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(I.jsx)(pt.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(I.jsx)(St.a,{})}),Object(I.jsx)(yt.a,{component:"h1",variant:"h5",children:"recupration de mot de passe"}),Object(I.jsxs)(se.a,{component:"form",onSubmit:m,noValidate:!0,sx:{mt:1},children:[Object(I.jsx)(De.a,{margin:"normal",required:!0,fullWidth:!0,onChange:function(e){var t=e.target.value;r(t)},id:"email",label:"votre mail",name:"email",value:s,autoComplete:"username",autoFocus:!0}),Object(I.jsx)(ze.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"envoyer mail"}),O&&Object(I.jsx)("div",{className:"form-group",children:Object(I.jsx)("div",{className:"alert alert-success",role:"alert",children:O})}),Object(I.jsxs)(_t.a,{container:!0,children:[Object(I.jsx)(_t.a,{item:!0,xs:!0}),Object(I.jsx)(_t.a,{item:!0})]})]})]}),Object(I.jsx)(Pc,{sx:{mt:8,mb:4}})]})}),Object(I.jsx)(ot.a,{onSubmit:m,ref:e,children:Object(I.jsx)(ut.a,{style:{display:"none"},ref:t})})]})})};function wc(e){return Object(I.jsxs)(yt.a,Object(d.a)(Object(d.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(I.jsx)(Nt.a,{color:"inherit",href:"https://crm.sofitech.pro/",children:"sofitech & cemeca"})," ",(new Date).getFullYear(),"."]}))}var Tc=Object(Ct.a)();var Ac=function(){var e=Object(ne.f)(),t=Object(ne.g)().id;console.log(t);var c=Object(n.useRef)(),a=Object(n.useRef)(),s=Object(n.useState)(""),r=Object(b.a)(s,2),i=r[0],o=r[1],l=Object(n.useState)(""),d=Object(b.a)(l,2),j=d[0],u=d[1],O=Object(n.useState)(void 0),h=Object(b.a)(O,2),m=h[0],x=h[1],f=Object(n.useState)(""),v=Object(b.a)(f,2),g=v[0],N=v[1],_=function(n){if(n.preventDefault(),N(""),c.current.validateAll(),0===a.current.context._errors.length){if(i!==j)return void N("Les mots de passe ne correspondent pas.");if(!/^(?=.*[A-Z])(?=.*[!@#$%^&*])(?=.{10,})/.test(i))return void N("Le mot de passe doit avoir au moins 10 caract\xe8res, une majuscule et un caract\xe8re sp\xe9cial (!@#$%^&*).");console.log(t,i),p.resetPassword(t,i).then((function(){x(!0),setTimeout((function(){x(!1),e.push("/login")}),1e3),N("Mot de passe r\xe9initialis\xe9 avec succ\xe8s !")}))}};return Object(I.jsx)("div",{className:"col-md-12",children:m?Object(I.jsxs)("div",{className:"card card-container",children:[Object(I.jsx)(Mt.a,{theme:Tc,children:Object(I.jsxs)(Pt.a,{component:"main",maxWidth:"xs",children:[Object(I.jsx)(gt.a,{}),Object(I.jsxs)(se.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(I.jsx)(pt.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(I.jsx)(St.a,{})}),Object(I.jsxs)(yt.a,{component:"h1",variant:"h5",children:["Sign in",Object(I.jsx)("br",{}),Object(I.jsx)(Tt,{})]})]}),Object(I.jsx)(wc,{sx:{mt:8,mb:4}})]})}),Object(I.jsx)(ot.a,{onSubmit:_,ref:c,children:Object(I.jsx)(ut.a,{style:{display:"none"},ref:a})})]}):Object(I.jsxs)("div",{className:"card card-container",children:[Object(I.jsx)(Mt.a,{theme:Tc,children:Object(I.jsxs)(Pt.a,{component:"main",maxWidth:"xs",children:[Object(I.jsx)(gt.a,{}),Object(I.jsxs)(se.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(I.jsx)(pt.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(I.jsx)(St.a,{})}),Object(I.jsx)(yt.a,{component:"h1",variant:"h5",children:"recupration de mot de passe"}),Object(I.jsxs)(se.a,{component:"form",onSubmit:_,noValidate:!0,sx:{mt:1},children:[Object(I.jsx)(De.a,{margin:"normal",required:!0,fullWidth:!0,onChange:function(e){var t=e.target.value;o(t)},id:"newPassword",label:"votre password",name:"newPassword",value:i,autoComplete:"newPassword",autoFocus:!0}),Object(I.jsx)(De.a,{margin:"normal",required:!0,fullWidth:!0,onChange:function(e){var t=e.target.value;u(t)},id:"confirmPassword",label:"confiramtion de votre password",name:"confirmPassword",value:j,autoComplete:"confirmPassword",autoFocus:!0}),Object(I.jsx)(ze.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"envoyer mail"}),g&&Object(I.jsx)("div",{className:"form-group",children:Object(I.jsx)("div",{className:"alert alert-success",role:"alert",children:g})}),Object(I.jsxs)(_t.a,{container:!0,children:[Object(I.jsx)(_t.a,{item:!0,xs:!0}),Object(I.jsx)(_t.a,{item:!0})]})]})]}),Object(I.jsx)(wc,{sx:{mt:8,mb:4}})]})}),Object(I.jsx)(ot.a,{onSubmit:_,ref:c,children:Object(I.jsx)(ut.a,{style:{display:"none"},ref:a})})]})})},Dc=function(){var e=p.getCurrentUser(),t=A(),c=Object(n.useState)(null),a=Object(b.a)(c,2),s=a[0],r=a[1];return Object(n.useEffect)((function(){var t=function(){var t=Object(ce.a)(Object(te.a)().mark((function t(){var c,n;return Object(te.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("http://localhost:8080/api/auth/days-since-password-change/".concat(e.id));case 3:c=t.sent,n=c.data,r(n.days),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching days since password change:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();t()}),[]),console.log(s),Object(I.jsx)(ne.c,{children:e&&t?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ne.a,{path:"/",exact:!0,component:Le}),Object(I.jsx)(ne.a,{path:"/admin",component:dc}),Object(I.jsx)(ne.a,{path:"/register",component:xt}),Object(I.jsx)(ne.a,{path:"/Action/:id",component:Zt}),Object(I.jsx)(ne.a,{path:"/Evolis",component:Sc}),Object(I.jsx)(ne.a,{path:"/AllAction",component:Lt}),Object(I.jsx)(ne.a,{path:"/Societes",component:st}),Object(I.jsx)(ne.a,{path:"/Societe/:id",component:xc}),Object(I.jsx)(ne.a,{path:"/modifier/:id",component:gc}),Object(I.jsx)(ne.a,{path:"/Interlocuteur/:id",component:uc}),Object(I.jsx)(ne.a,{path:"/ajouter",component:oc}),Object(I.jsx)(ne.a,{path:"/user/:id",component:vc}),Object(I.jsx)(ne.a,{path:"/Login",component:It}),Object(I.jsx)(ne.a,{path:"/Inter/modifier/:id",component:_c}),Object(I.jsx)(ne.a,{path:"/Actions/modifier/:id",component:Nc}),Object(I.jsx)(ne.a,{path:"/Interl",component:mc}),Object(I.jsx)(ne.a,{path:"/change-password",render:function(t){return Object(I.jsx)(yc,Object(d.a)(Object(d.a)({},t),{},{userId:e.id}))}})]}):Object(I.jsxs)("div",{children:[Object(I.jsx)(ne.a,{path:"*",exact:!0,component:Ec}),Object(I.jsx)(ne.a,{path:"/Login",component:It}),Object(I.jsx)(ne.a,{path:"/forget-password",component:Mc}),Object(I.jsx)(ne.a,{path:"/reset-password/:id",component:Ac})," "]})})},Ic=function(){var e=Object(l.c)((function(e){return e.ThemeReducer})),t=Object(l.b)();return c(418).config(),Object(n.useEffect)((function(){var e=localStorage.getItem("themeMode","theme-mode-light"),c=localStorage.getItem("colorMode","theme-mode-light");t(B.setMode(e)),t(B.setColor(c))}),[t]),Object(I.jsx)(R.a,{children:Object(I.jsx)(ne.a,{render:function(t){return Object(I.jsxs)("div",{className:"layout ".concat(e.mode," ").concat(e.color),children:[Object(I.jsx)(V,Object(d.a)({},t)),Object(I.jsxs)("div",{className:"layout__content",children:[Object(I.jsx)(ee,{}),Object(I.jsx)("div",{className:"layout__content-main",children:Object(I.jsx)(Dc,{})})]})]})}})})},Yc=Object(o.b)(u);document.title="CRM SOFITECH/CEMECA",r.a.render(Object(I.jsx)(l.a,{store:Yc,children:Object(I.jsx)(Ic,{})}),document.getElementById("root")),i()}},[[423,1,2]]]);
//# sourceMappingURL=main.a9c649c5.chunk.js.map