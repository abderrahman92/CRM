(this["webpackJsonptua-react-admin"]=this["webpackJsonptua-react-admin"]||[]).push([[0],{131:function(e,t,a){},151:function(e){e.exports=JSON.parse('[{"display_name":"Tableau de bord","route":"/","icon":"bx bx-category-alt","status":"desactive"},{"display_name":"Soci\xe9t\xe9s","route":"/Societes","icon":"bx bxs-bank","status":"desactive"},{"display_name":"Nouvelle Soci\xe9t\xe9","route":"/ajouter","icon":"bx bxs-folder-plus","status":"desactive"},{"display_name":"Interlocuteur","route":"/Interlocuteurs","icon":"bx bx-user-pin","status":"desactive"},{"display_name":"Contrat","route":"/Contrats","icon":"bx bxs-book-content","status":"desactive"},{"display_name":"Action","route":"/Action","icon":"bx bx-bar-chart-alt","status":"desactive"},{"display_name":"Parametre","route":"/Parametre","icon":"bx bx-cog","status":"desactive"},{"display_name":"Connexion","route":"/login","icon":"bx bx-log-in","status":"active"},{"display_name":"Gestion Utilisateur","route":"/Register","icon":"bx bxs-user-plus","status":"desactive"}]')},153:function(e){e.exports=JSON.parse('[{"icon":"bx bx-error","content":"Curabitur id eros quis nunc suscipit blandit"},{"icon":"bx bx-package","content":"Duis malesuada justo eu sapien elementum, in semper diam posuere"},{"icon":"bx bx-cart","content":"Donec at nisi sit amet tortor commodo porttitor pretium a erat"},{"icon":"bx bx-error","content":"In gravida mauris et nisi"},{"icon":"bx bx-cart","content":"Curabitur id eros quis nunc suscipit blandit"}]')},154:function(e){e.exports=JSON.parse('[{"icon":"bx bx-user","content":"Profile"},{"icon":"bx bx-wallet-alt","content":"My Wallet"},{"icon":"bx bx-cog","content":"Settings"},{"icon":"bx bx-log-out-circle bx-rotate-180","content":"Logout"}]')},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},220:function(e,t,a){},221:function(e){e.exports=JSON.parse("{}")},222:function(e){e.exports=JSON.parse("{}")},313:function(e,t,a){},315:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(21),r=a.n(s),i=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,442)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))},l=a(90),o=a(52),d=a(25),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MODE":return Object(d.a)(Object(d.a)({},e),{},{mode:t.payload});case"SET_COLOR":return Object(d.a)(Object(d.a)({},e),{},{color:t.payload});default:return e}},b=Object(l.a)({ThemeReducer:j}),u=(a(185),a(186),a(187),a(188),a(189),a(190),a(20)),m=a(8),h=a(33),O=(a(191),a(31)),x=a(27),v=a(17),g=a.n(v),f="https://sofcem.mtech.dev/api/auth/",p=new(function(){function e(){Object(O.a)(this,e)}return Object(x.a)(e,[{key:"login",value:function(e,t){return g.a.post(f+"signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"create_historique_auth",value:function(e,t,a){return g.a.post(f+"historique",{username:e,password:t,message:a})}},{key:"get_historique_auth",value:function(){return g.a.get(f+"list_historique")}},{key:"removeAll_historique_auth",value:function(){return g.a.delete(f+"list_historique")}},{key:"remove_historiqueremove",value:function(e){return g.a.delete(f+"list_historique/".concat(e))}},{key:"register",value:function(e,t,a,c){return g.a.post(f+"signup",{username:e,email:t,roles:a,password:c})}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}());function N(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}var _="https://sofcem.mtech.dev/api/test/",y=new(function(){function e(){Object(O.a)(this,e)}return Object(x.a)(e,[{key:"getListe_User",value:function(){return g.a.get(_+"liste_user")}},{key:"getPublicContent",value:function(){return g.a.get(_+"all")}},{key:"getCemecaBoard",value:function(){return g.a.get(_+"cemeca",{headers:N()})}},{key:"getSofitechBoard",value:function(){return g.a.get(_+"sofitech",{headers:N()})}},{key:"getModeratorBoard",value:function(){return g.a.get(_+"mod",{headers:N()})}},{key:"getAdminBoard",value:function(){return g.a.get(_+"admin",{headers:N()})}}]),e}()),C={on:function(e,t){document.addEventListener(e,(function(e){return t(e.detail)}))},dispatch:function(e,t){document.dispatchEvent(new CustomEvent(e,{detail:t}))},remove:function(e,t){document.removeEventListener(e,t)}},S=a.p+"static/media/sofitech.28261e02.png",E=a(151),k=a(1),F=function(e){var t=e.desactive?"":"desactive";return Object(k.jsx)("div",{className:"sidebar__item",children:Object(k.jsxs)("div",{disabled:!0,className:"sidebar__item-inner ".concat(t),children:[Object(k.jsx)("i",{className:e.icon}),Object(k.jsxs)("span",{children:[e.title,e.status]})]})})},M=function(e){var t=e.active?"active":"";return Object(k.jsx)("div",{disabled:!0,className:"sidebar__item",children:Object(k.jsxs)("div",{disabled:!0,className:"sidebar__item-inner ".concat(t),children:[Object(k.jsx)("i",{className:e.icon}),Object(k.jsxs)("span",{children:[e.title,e.status]})]})})},I=function(){p.logout()},T=function(e){var t=e.active?"active":"",a=Object(c.useState)(E),n=Object(m.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(void 0),l=Object(m.a)(i,2),o=l[0],d=l[1],j=Object(c.useState)(void 0),b=Object(m.a)(j,2),O=(b[0],b[1]);Object(c.useEffect)((function(){var e=p.getCurrentUser();if(e){var t=Object(u.a)(s);y.getAdminBoard().then((function(e){t[7].status="desactive",t[2].status="active",t[8].status="active",O({content:e.data})}),(function(e){O({content:e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}),e.response&&401===e.response.status&&C.dispatch("logout")})),t[7].status="desactive",t[0].status="active",t[2].status="active",t[1].status="active",r(t),d(e)}}),[]);var x=s.findIndex((function(t){return t.route===e.location.pathname})),v=s.filter((function(e){return"desactive"===e.status})),g=s.filter((function(e){return"active"===e.status}));return console.log(s),console.log(g),Object(k.jsxs)("div",{className:"sidebar",children:[Object(k.jsx)("div",{className:"sidebar__logo",children:Object(k.jsx)("img",{src:S,alt:"company logo"})}),g.map((function(e,t){return Object(k.jsx)(h.b,{to:e.route,children:Object(k.jsx)(M,{title:e.display_name,icon:e.icon,active:t===x})},t)})),", ,",o?Object(k.jsxs)("div",{children:[v.map((function(e,t){return Object(k.jsx)(F,{title:e.display_name,icon:e.icon,active:t===x})})),Object(k.jsx)("div",{className:"sidebar__item",children:Object(k.jsxs)("div",{className:"sidebar__item-inner".concat(t),children:[Object(k.jsx)("i",{className:"bx bxs-log-out"}),Object(k.jsx)("a",{href:"/login",className:"nav-link",onClick:I,children:"D\xe9connexion"})]})})]}):Object(k.jsx)("div",{className:"sidebar__item"})]})},P=(a(216),a(217),function(e){var t,a,n=Object(c.useRef)(null),s=Object(c.useRef)(null);return t=s,a=n,document.addEventListener("mousedown",(function(e){a.current&&a.current.contains(e.target)?t.current.classList.toggle("active"):t.current&&!t.current.contains(e.target)&&t.current.classList.remove("active")})),Object(k.jsxs)("div",{className:"dropdown",children:[Object(k.jsxs)("button",{ref:n,className:"dropdown__toggle",children:[e.icon?Object(k.jsx)("i",{className:e.icon}):"",e.badge?Object(k.jsx)("span",{className:"dropdown__toggle-badge",children:e.badge}):"",e.customToggle?e.customToggle():""]}),Object(k.jsxs)("div",{ref:s,className:"dropdown__content",children:[e.contentData&&e.renderItems?e.contentData.map((function(t,a){return e.renderItems(t,a)})):"",e.renderFooter?Object(k.jsx)("div",{className:"dropdown__footer",children:e.renderFooter()}):""]})]})}),w=(a(218),{setColor:function(e){return{type:"SET_COLOR",payload:e}},setMode:function(e){return{type:"SET_MODE",payload:e}},getTheme:function(){return{type:"GET_THEME"}}}),A=[{id:"light",name:"Light",background:"light-background",class:"theme-mode-light"},{id:"dark",name:"Dark",background:"dark-background",class:"theme-mode-dark"}],R=[{id:"blue",name:"Blue",background:"blue-color",class:"theme-color-blue"},{id:"red",name:"Red",background:"red-color",class:"theme-color-red"},{id:"cyan",name:"Cyan",background:"cyan-color",class:"theme-color-cyan"},{id:"green",name:"Green",background:"green-color",class:"theme-color-green"},{id:"orange",name:"Orange",background:"orange-color",class:"theme-color-orange"}],Y=function(){var e,t,a=p.getCurrentUser(),n=Object(c.useRef)(null),s=Object(c.useRef)(null);e=n,t=s,document.addEventListener("mousedown",(function(a){t.current&&t.current.contains(a.target)?e.current.classList.toggle("active"):e.current&&!e.current.contains(a.target)&&e.current.classList.remove("active")}));var r=Object(c.useState)("light"),i=Object(m.a)(r,2),l=i[0],d=i[1],j=Object(c.useState)("blue"),b=Object(m.a)(j,2),u=b[0],h=b[1],O=Object(o.b)();return Object(c.useEffect)((function(){var e=A.find((function(e){return e.class===localStorage.getItem("themeMode","theme-mode-light")})),t=R.find((function(e){return e.class===localStorage.getItem("colorMode","theme-mode-light")}));void 0!==e&&d(e.id),void 0!==t&&h(t.id)}),[]),Object(k.jsx)("div",{children:a?Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{ref:s,className:"dropdown__toggle",onClick:function(){return n.current.classList.add("active")},children:Object(k.jsx)("i",{className:"bx bx-palette"})}),Object(k.jsxs)("div",{ref:n,className:"theme-menu",children:[Object(k.jsx)("h4",{children:"Theme settings"}),Object(k.jsx)("button",{className:"theme-menu__close",onClick:function(){return n.current.classList.remove("active")},children:Object(k.jsx)("i",{className:"bx bx-x"})}),Object(k.jsxs)("div",{className:"theme-menu__select",children:[Object(k.jsx)("span",{children:"Choose mode"}),Object(k.jsx)("ul",{className:"mode-list",children:A.map((function(e,t){return Object(k.jsxs)("li",{onClick:function(){return d((t=e).id),localStorage.setItem("themeMode",t.class),void O(w.setMode(t.class));var t},children:[Object(k.jsx)("div",{className:"mode-list__color ".concat(e.background," ").concat(e.id===l?"active":""),children:Object(k.jsx)("i",{className:"bx bx-check"})}),Object(k.jsx)("span",{children:e.name})]},t)}))})]}),Object(k.jsxs)("div",{className:"theme-menu__select",children:[Object(k.jsx)("span",{children:"Choose color"}),Object(k.jsx)("ul",{className:"mode-list",children:R.map((function(e,t){return Object(k.jsxs)("li",{onClick:function(){return h((t=e).id),localStorage.setItem("colorMode",t.class),void O(w.setColor(t.class));var t},children:[Object(k.jsx)("div",{className:"mode-list__color ".concat(e.background," ").concat(e.id===u?"active":""),children:Object(k.jsx)("i",{className:"bx bx-check"})}),Object(k.jsx)("span",{children:e.name})]},t)}))})]})]})]}):Object(k.jsx)("div",{})})},L=a(153),B=a(154),U={username:"Tuat Tran"},D=p.getCurrentUser(),q=function(e){var t=Object(c.useState)(void 0),a=Object(m.a)(t,2),n=a[0],s=a[1];return Object(c.useEffect)((function(){var e=p.getCurrentUser();e&&s(e)}),[]),Object(k.jsx)("div",{children:D?Object(k.jsxs)("div",{className:"topnav",children:[Object(k.jsxs)("div",{className:"topnav__search",children:[Object(k.jsx)("input",{type:"text",placeholder:"Search here..."}),Object(k.jsx)("i",{className:"bx bx-search"})]}),Object(k.jsxs)("div",{className:"topnav__right",children:[Object(k.jsx)("div",{className:"topnav__right-item",children:n?Object(k.jsx)(h.b,{children:Object(k.jsx)("div",{className:"sidebar__item",children:Object(k.jsxs)("div",{className:"sidebar__item-inner",children:[Object(k.jsx)("i",{className:"bx bxs-user-check"}),Object(k.jsx)("span",{children:n.username})]})})}):Object(k.jsx)(P,{customToggle:function(){return e=U,Object(k.jsxs)("div",{className:"topnav__right-user",children:[Object(k.jsx)("div",{className:"topnav__right-user__image",children:Object(k.jsx)("img",{src:e.image,alt:""})}),Object(k.jsx)("div",{className:"topnav__right-user__name",children:e.display_name})]});var e},contentData:B,renderItems:function(e,t){return function(e,t){return Object(k.jsx)(h.b,{to:"/",children:Object(k.jsxs)("div",{className:"notification-item",children:[Object(k.jsx)("i",{className:e.icon}),Object(k.jsx)("span",{children:e.content})]})},t)}(e,t)}})}),Object(k.jsx)("div",{className:"topnav__right-item",children:Object(k.jsx)(P,{icon:"bx bx-bell",badge:"0",contentData:L,renderItems:function(e,t){return function(e,t){return Object(k.jsxs)("div",{className:"notification-item",children:[Object(k.jsx)("i",{className:e.icon}),Object(k.jsx)("span",{children:e.content})]},t)}(e,t)},renderFooter:function(){return Object(k.jsx)(h.b,{to:"/",children:"View All"})}})}),Object(k.jsx)("div",{className:"topnav__right-item",children:Object(k.jsx)(Y,{})})]})]}):Object(k.jsx)("div",{})})},H=a(26),W=a(155),J=a.n(W),V=(a(131),function(e){return Object(k.jsxs)("div",{className:"status-card",children:[Object(k.jsx)("div",{className:"status-card__icon",children:Object(k.jsx)("i",{className:e.icon})}),Object(k.jsxs)("div",{className:"status-card__info",children:[Object(k.jsx)("h4",{children:e.count}),Object(k.jsx)("span",{children:e.title})]})]})}),G=(a(220),a(425)),z=a(429),X=a(428),Q=a(423),K=a(426),Z=a(427),$=a(424),ee="https://sofcem.mtech.dev/api/auth/",te=new(function(){function e(){Object(O.a)(this,e)}return Object(x.a)(e,[{key:"create",value:function(e){return g.a.post(ee+"action",e)}},{key:"findAll",value:function(){return g.a.get(ee+"action")}}]),e}()),ae={series:[{name:"nombre action ",data:[40,70,20,90,36,80,30,91,60]},{name:"nombre adherent ajout\xe9 ",data:[20,40,50,10,46,20,80,71,30]},{name:"nombre contrat sign\xe9",data:[40,30,20,60,40,16,40,20,51]}],options:{color:["#6ab04c","#2980b9"],chart:{background:"transparent"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"]},legend:{position:"top"},grid:{show:!1}}};console.log(te.findAll);var ce=function(){var e=Object(c.useState)([]),t=Object(m.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!1),r=Object(m.a)(s,2),i=(r[0],r[1]),l=Object(c.useState)(void 0),j=Object(m.a)(l,2),b=j[0],u=j[1],O=Object(c.useState)([]),x=Object(m.a)(O,2),v=x[0],f=x[1];Object(c.useEffect)((function(){var e=p.getCurrentUser();e&&(te.findAll().then((function(e){f(e.data)})).catch((function(e){console.log(e)})),u(e),y.getCemecaBoard().then((function(e){g.a.get("http://localhost:8080/cemeca").then((function(e){n(e.data),i(!0)}))})),y.getSofitechBoard().then((function(e){g.a.get("http://localhost:8080/sofitech").then((function(e){n(e.data)}))})))}),[]);var N=v.filter((function(e){return e.id_utili===b.id})),_=[{icon:"bx bx-bar-chart-alt",count:v.length,title:"nombres d'action "},{icon:"bx bx-bar-chart-alt",count:N.length,title:"action utilisateur"}];console.log();var C=Object(o.c)((function(e){return e.ThemeReducer.mode}));return Object(k.jsx)("div",{children:b?Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{className:"page-header",children:"tableau de bord"}),Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-6",children:Object(k.jsx)("div",{className:"row",children:_.map((function(e,t){return Object(k.jsx)("div",{className:"col-6",children:Object(k.jsx)("a",{href:"Action/32143789900057",children:Object(k.jsx)(V,{icon:e.icon,count:e.count,title:e.title})})},t)}))})}),Object(k.jsx)("div",{className:"col-6",children:Object(k.jsx)("div",{className:"card full-height",children:Object(k.jsx)(J.a,{options:"theme-mode-dark"===C?Object(d.a)(Object(d.a)({},ae.options),{},{theme:{mode:"dark"}}):Object(d.a)(Object(d.a)({},ae.options),{},{theme:{mode:"light"}}),series:ae.series,type:"line",height:"100%"})})}),Object(k.jsx)("div",{className:"col-8",children:Object(k.jsxs)("div",{className:"card",children:[Object(k.jsx)("div",{className:"card__header",children:Object(k.jsx)("h3",{children:"Derni\xe8res Soci\xe9t\xe9s cr\xe9es"})}),Object(k.jsx)("div",{className:"card__body",children:Object(k.jsx)(Q.a,{component:$.a,children:Object(k.jsxs)(G.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(k.jsx)(K.a,{children:Object(k.jsxs)(Z.a,{children:[Object(k.jsx)(X.a,{children:"siret"}),Object(k.jsx)(X.a,{align:"right",children:"nom_soc"}),Object(k.jsx)(X.a,{align:"right",children:"observation"}),Object(k.jsx)(X.a,{align:"right",children:"adresse postal"}),Object(k.jsx)(X.a,{align:"right",children:"date ajout\xe9"})]})}),Object(k.jsx)(z.a,{children:a.map((function(e){return Object(k.jsxs)(Z.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(k.jsx)(X.a,{component:"th",scope:"row",children:e.siret}),Object(k.jsx)(X.a,{align:"right",children:e.nom_soc}),Object(k.jsx)(X.a,{align:"right",children:e.observation}),Object(k.jsx)(X.a,{align:"right",children:e.adresse_local}),Object(k.jsx)(X.a,{align:"right",children:e.createdAt})]},e.siret)}))})]})})}),Object(k.jsx)("div",{className:"card__footer",children:Object(k.jsx)(h.b,{to:"Societes",children:"view all"})})]})})]})]}):Object(k.jsx)("div",{className:"sidebar__item",children:Object(k.jsxs)("div",{disabled:!0,className:"sidebar__item-inner ",children:[Object(k.jsx)("i",{class:"bx bxs-user-x"}),Object(k.jsx)("span",{children:"pas connecter"})]})})})},ne=(a(221),a(222),{create:function(e){return g.a.post("https://sofcem.mtech.dev/api/auth/ajouter",e)},findByTitle:function(e){return g.a.get("/Societes?siret=".concat(e))}}),se=a(109),re=a.n(se),ie=a(156),le=a.n(ie),oe=a(395),de=a(398),je=a(400),be=a(401),ue=a(402),me=a(403),he=a(404),Oe=a(405),xe=a(406),ve=a(407),ge=a(408),fe=a(411),pe=Object(oe.a)((function(e){return{table:{secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"}},tableContainer:{borderRadius:15,margin:"10px 10px",maxWidth:1350},tableHeaderCell:{sx:"4",fontWeight:"bold",backgroundColor:e.palette.primary.dark,color:e.palette.getContrastText(e.palette.secondary.dark)},avatar:{backgroundColor:e.palette.primary.light,color:e.palette.getContrastText(e.palette.primary.light)},name:{fontWeight:"bold",color:e.palette.secondary.dark},status:{fontWeight:"bold",fontSize:"0.75rem",color:"white",backgroundColor:"grey",borderRadius:8,display:"inline-block"}}}));var Ne=function(){var e=pe(),t=n.a.useState(0),a=Object(m.a)(t,2),s=a[0],r=(a[1],n.a.useState(10)),i=Object(m.a)(r,2),l=i[0],o=(i[1],Object(c.useState)([])),d=Object(m.a)(o,2),j=d[0],b=d[1],u=Object(c.useState)(""),h=Object(m.a)(u,2),O=h[0],x=h[1],v=(y.getCemecaBoard(),y.getSofitechBoard(),y.getAdminBoard(),p.getCurrentUser());Object(c.useEffect)((function(){f()}),[]);var f=function(){v&&(y.getCemecaBoard().then((function(e){g.a.get("http://localhost:8080/cemeca").then((function(e){b(e.data)}))})),y.getSofitechBoard().then((function(e){g.a.get("http://localhost:8080/sofitech").then((function(e){b(e.data)}))})))};return Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{className:"page-header",children:"soci\xe9t\xe9s"}),Object(k.jsx)("div",{className:"row",children:Object(k.jsx)("div",{className:"col-md-4 list",children:Object(k.jsxs)("div",{className:"input-group mb-3",children:[Object(k.jsx)("input",{type:"text",className:"form-control",placeholder:"Recherche ",value:O,onChange:function(e){var t=e.target.value;x(t)}}),Object(k.jsx)("div",{className:"input-group-append",children:Object(k.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){var e=parseInt(O);console.log(typeof O);var t=j.filter((function(e){return e.nom_soc===O})),a=j.filter((function(t){return t.code_postal===e})),c=j.filter((function(t){return t.siret===e})),n=j.filter((function(t){return t.siren===e}));0!==t.length&&(console.log(t),b(t)),0!==a.length&&(console.log(!0),b(a)),0!==c.length&&(console.log(!0),b(c)),0!==n.length&&(console.log(!0),b(n))},children:"Search"})})]})})}),Object(k.jsx)("div",{className:"card card-container",children:Object(k.jsx)("div",{className:"list row",children:Object(k.jsxs)("div",{className:"col-md-12 list",children:[Object(k.jsx)("h3",{children:"Liste des Soci\xe9t\xe9es"}),Object(k.jsx)(de.a,{component:je.a,className:e.tableContainer,children:Object(k.jsxs)(be.a,{className:e.table,"aria-label":"simple table",children:[Object(k.jsx)(ue.a,{children:Object(k.jsxs)(me.a,{children:[Object(k.jsx)(he.a,{className:e.tableHeaderCell,children:"Soci\xe9t\xe9"}),Object(k.jsx)(he.a,{className:e.tableHeaderCell,children:"Adresse postal"}),Object(k.jsx)(he.a,{className:e.tableHeaderCell,children:"nom responnsable"}),Object(k.jsx)(he.a,{className:e.tableHeaderCell,children:"Code naf"}),Object(k.jsx)(he.a,{className:e.tableHeaderCell,children:"Syndicat"}),Object(k.jsx)(he.a,{className:e.tableHeaderCell,children:"Interlocuteur"}),Object(k.jsx)(he.a,{className:e.tableHeaderCell,children:"Action"}),Object(k.jsx)(he.a,{className:e.tableHeaderCell,children:"info"})]})}),Object(k.jsx)(Oe.a,{children:j.slice(s*l,s*l+l).map((function(t){return Object(k.jsxs)(me.a,{children:[Object(k.jsx)(he.a,{children:Object(k.jsx)(xe.a,{container:!0,children:Object(k.jsxs)(xe.a,{item:!0,lg:10,children:[Object(k.jsxs)(ve.a,{className:e.name,children:["siret: ",t.siret]}),Object(k.jsxs)(ve.a,{color:"textSecondary",variant:"body2",children:["siren: ",t.siren]}),Object(k.jsxs)(ve.a,{color:"textSecondary",variant:"body2",children:["nom de la societe: ",t.nom_soc]})]})})}),Object(k.jsx)(he.a,{children:Object(k.jsxs)(xe.a,{item:!0,lg:10,children:[Object(k.jsxs)(ve.a,{children:[" ",t.adresse_local]}),Object(k.jsxs)(ve.a,{color:"textSecondary",variant:"body1",children:[t.code_postal," ",t.ville]}),Object(k.jsx)(ve.a,{children:t.ville_soc})]})}),Object(k.jsx)(he.a,{children:t.nom_responsable_soc}),Object(k.jsx)(he.a,{children:t.activite_soc}),Object(k.jsx)(he.a,{children:t.syndicat}),Object(k.jsx)(he.a,{children:Object(k.jsx)(ge.a,{href:"/Interlocuteur/".concat(t.siret),color:"primary","aria-label":"edit",children:Object(k.jsx)(re.a,{})})}),Object(k.jsx)(he.a,{children:Object(k.jsx)(ge.a,{href:"/Action/".concat(t.siret),color:"primary","aria-label":"edit",children:Object(k.jsx)(re.a,{})})}),Object(k.jsx)(he.a,{children:Object(k.jsx)(ge.a,{href:"/Societe/".concat(t.siret),color:"primary","aria-label":"assignmentOutlinedIcon",children:Object(k.jsx)(le.a,{})})})]},t.name)}))}),Object(k.jsx)(fe.a,{})]})})]})})})]})},_e=a(47),ye=a.n(_e),Ce=a(18),Se=a.n(Ce),Ee=a(48),ke=a.n(Ee),Fe=a(157),Me=new(Object(x.a)((function e(){Object(O.a)(this,e),this.required=function(e){if(!e)return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},this.vemail=function(e){if(!Object(Fe.isEmail)(e))return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This is not a valid email."})},this.vrole=function(e){if(isNaN(e))return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This is not a valid role."})},this.vusername=function(e){if(e.length<3||e.length>20)return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The username must be between 3 and 20 characters."})},this.vpassword=function(e){if(e.length<6||e.length>40)return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The password must be between 6 and 40 characters."})}}))),Ie=(a(308),a(436)),Te=a(414),Pe=function(e){var t=Object(oe.a)((function(e){return{table:{minWidth:200},tableContainer:{borderRadius:15,margin:"10px 10px",maxWidth:950},tableHeaderCell:{fontWeight:"bold",backgroundColor:e.palette.primary.dark,color:e.palette.getContrastText(e.palette.primary.dark)},avatar:{backgroundColor:e.palette.primary.light,color:e.palette.getContrastText(e.palette.primary.light)},name:{fontWeight:"bold",color:e.palette.secondary.dark},status:{fontWeight:"bold",fontSize:"0.75rem",color:"white",backgroundColor:"grey",borderRadius:8,padding:"3px 10px",display:"inline-block"}}})),a=Object(c.useState)(""),s=Object(m.a)(a,2),r=(s[0],s[1],Object(c.useState)([])),i=Object(m.a)(r,2),l=i[0],o=i[1],d=Object(c.useState)([]),j=Object(m.a)(d,2),b=j[0],h=j[1],O=Object(c.useRef)();O.current=b;var x=Object(c.useRef)(),v=Object(c.useRef)(),g=Me.vrole,f=Me.vusername,N=Me.vpassword,_=Me.vemail,C=Me.required,S=Object(c.useState)(""),E=Object(m.a)(S,2),F=E[0],M=E[1],I=Object(c.useState)(""),T=Object(m.a)(I,2),P=T[0],w=T[1],A=Object(c.useState)([]),R=Object(m.a)(A,2),Y=R[0],L=R[1],B=Object(c.useState)(""),U=Object(m.a)(B,2),D=U[0],q=U[1],H=Object(c.useState)(!1),W=Object(m.a)(H,2),J=W[0],V=W[1],G=Object(c.useState)(""),z=Object(m.a)(G,2),X=z[0],Q=z[1];Object(c.useEffect)((function(){Z(),K()}),[]);var K=function(){y.getListe_User().then((function(e){o(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))};console.log(y.getListe_User());var Z=function(){p.get_historique_auth().then((function(e){h(e.data)})).catch((function(e){console.log(e)}))},$=t(),ee=n.a.useState(0),te=Object(m.a)(ee,2),ae=te[0],ce=te[1],ne=n.a.useState(10),se=Object(m.a)(ne,2),re=se[0],ie=se[1],le=function(e,t){ce(t)},ge=function(e){ie(+e.target.value),ce(0)},pe=function(e){var t=e.target.value;L([].concat(Object(u.a)(Y),[t]))};return Object(k.jsxs)("div",{className:"col-md-12",children:[Object(k.jsx)("h1",{children:"gestion utilisateur"}),Object(k.jsx)("div",{className:"card card-container",children:Object(k.jsx)("div",{className:"list row",children:Object(k.jsxs)("div",{className:"col-md-12 list",children:[Object(k.jsx)("h3",{children:"Listes des Utilisateurs"}),Object(k.jsx)(de.a,{component:je.a,className:$.tableContainer,children:Object(k.jsxs)(be.a,{className:$.table,"aria-label":"simple table",children:[Object(k.jsx)(ue.a,{children:Object(k.jsxs)(me.a,{children:[Object(k.jsx)(he.a,{className:$.tableHeaderCell,children:"nom"}),Object(k.jsx)(he.a,{className:$.tableHeaderCell,children:"email"}),Object(k.jsx)(he.a,{className:$.tableHeaderCell,children:"password"}),Object(k.jsx)(he.a,{className:$.tableHeaderCell,children:"Status"})]})}),Object(k.jsx)(Oe.a,{children:l.slice(ae*re,ae*re+re).map((function(e){return Object(k.jsxs)(me.a,{children:[Object(k.jsx)(he.a,{children:Object(k.jsxs)(xe.a,{container:!0,children:[Object(k.jsx)(xe.a,{item:!0,lg:2,children:Object(k.jsx)(Ie.a,{alt:e.name,src:".",className:$.avatar})}),Object(k.jsxs)(xe.a,{item:!0,lg:10,children:[Object(k.jsx)(ve.a,{className:$.name,children:e.name}),Object(k.jsx)(ve.a,{color:"textSecondary",variant:"body2",children:e.username})]})]})}),Object(k.jsxs)(he.a,{children:[Object(k.jsx)(ve.a,{color:"primary",variant:"subtitle2",children:e.email}),Object(k.jsx)(ve.a,{color:"textSecondary",variant:"body2",children:e.company})]}),Object(k.jsx)(he.a,{children:"*********"}),Object(k.jsx)(he.a,{children:Object(k.jsx)(ve.a,{className:$.status,style:{backgroundColor:("Active"===e.status?"green":"Pending"===e.status&&"blue")||"Blocked"===e.status&&"orange"},children:e.status})})]},e.name)}))}),Object(k.jsx)(fe.a,{children:Object(k.jsx)(Te.a,{rowsPerPageOptions:[5,10,15],component:"div",count:l.length,rowsPerPage:re,page:ae,onChangePage:le,onChangeRowsPerPage:ge})})]})})]})})}),Object(k.jsx)("div",{className:"card card-container",children:Object(k.jsx)("div",{className:"list row",children:Object(k.jsxs)("div",{className:"col-md-12 list",children:[Object(k.jsx)("h3",{children:"Historique des Authentifications"}),Object(k.jsx)(de.a,{component:je.a,className:$.tableContainer,children:Object(k.jsxs)(be.a,{className:$.table,"aria-label":"simple table",children:[Object(k.jsx)(ue.a,{children:Object(k.jsxs)(me.a,{children:[Object(k.jsx)(he.a,{className:$.tableHeaderCell,children:"Username"}),Object(k.jsx)(he.a,{className:$.tableHeaderCell,children:"Password"}),Object(k.jsx)(he.a,{className:$.tableHeaderCell,children:"Message"}),Object(k.jsx)(he.a,{className:$.tableHeaderCell,children:"Date De Connection"})]})}),Object(k.jsx)(Oe.a,{children:b.slice(ae*re,ae*re+re).map((function(e){return Object(k.jsxs)(me.a,{children:[Object(k.jsx)(he.a,{children:Object(k.jsxs)(xe.a,{container:!0,children:[Object(k.jsx)(xe.a,{item:!0,lg:2,children:Object(k.jsx)(Ie.a,{alt:e.name,src:".",className:$.avatar})}),Object(k.jsxs)(xe.a,{item:!0,lg:10,children:[Object(k.jsx)(ve.a,{className:$.name,children:e.name}),Object(k.jsx)(ve.a,{color:"textSecondary",variant:"body2",children:e.username})]})]})}),Object(k.jsx)(he.a,{children:e.password}),Object(k.jsx)(he.a,{children:Object(k.jsx)(ve.a,{className:$.status,style:{backgroundColor:"connection etablie !"===e.message?"green":"connection echouer !"===e.message&&"red"},children:e.message})}),Object(k.jsx)(he.a,{children:Object(k.jsx)(ve.a,{color:"primary",variant:"subtitle2",children:e.date_connection})})]},e.name)}))}),Object(k.jsx)(fe.a,{children:Object(k.jsx)(Te.a,{rowsPerPageOptions:[5,10,15],component:"div",count:b.length,rowsPerPage:re,page:ae,onChangePage:le,onChangeRowsPerPage:ge})})]})})]})})}),Object(k.jsxs)("div",{className:"card card-container",children:[Object(k.jsx)("h3",{children:"Ajouter un utilisateur"}),Object(k.jsxs)(ye.a,{onSubmit:function(e){e.preventDefault(),Q(""),V(!1),x.current.validateAll(),0===v.current.context._errors.length&&p.register(F,P,Y,D).then((function(e){Q(e.data.message),V(!0)}),(function(e){console.log(Y);var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();Q(t),V(!1)}))},ref:x,children:[!J&&Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"username",children:"Username"}),Object(k.jsx)(Se.a,{type:"text",className:"form-control",name:"username",value:F,onChange:function(e){var t=e.target.value;M(t)},validations:[C,f]})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"email",children:"Email"}),Object(k.jsx)(Se.a,{type:"text",className:"form-control",name:"email",value:P,onChange:function(e){var t=e.target.value;w(t)},validations:[C,_]})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"password",children:"Password"}),Object(k.jsx)(Se.a,{type:"password",className:"form-control",name:"password",value:D,onChange:function(e){var t=e.target.value;q(t)},validations:[C,N]})]}),Object(k.jsxs)("div",{className:"form-check container",children:[Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"cemeca"}),Object(k.jsx)(Se.a,{type:"checkbox",className:"form-check",name:"cemeca",value:"1",onChange:pe,validations:[C,g]}),Object(k.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"sofitech"}),Object(k.jsx)(Se.a,{type:"checkbox",className:"form-check",name:"sofitech",value:"2",onChange:pe,validations:[C,g]}),Object(k.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"admin cemeca"}),Object(k.jsx)(Se.a,{type:"checkbox",className:"form-check",name:"admin_cemeca",value:"3",onChange:pe,validations:[C,g]}),Object(k.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"admin sofitech"}),Object(k.jsx)(Se.a,{type:"checkbox",className:"form-check",name:"admin_sofitech",value:"4",onChange:pe,validations:[C,g]})]}),Object(k.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"super_cemeca"}),Object(k.jsx)(Se.a,{type:"checkbox",className:"form-check",name:"super_cemeca",value:"5",onChange:pe,validations:[C,g]}),Object(k.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"super_sofitech"}),Object(k.jsx)(Se.a,{type:"checkbox",className:"form-check",name:"super_sofitech",value:"6",onChange:pe,validations:[C,g]}),Object(k.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"super_admin"}),Object(k.jsx)(Se.a,{type:"checkbox",className:"form-check",name:"super_admin1",value:"7",onChange:pe,validations:[C,g]}),Object(k.jsx)("label",{className:"form-check-label",htmlFor:"role",children:"super_admin2"}),Object(k.jsx)(Se.a,{type:"checkbox",className:"form-check",name:"super_admin2",value:"8",onChange:pe,validations:[C,g]})]}),Object(k.jsx)("div",{className:"form-group",children:Object(k.jsx)("button",{className:"btn btn-primary btn-block",children:"Ajouter"})})]}),X&&Object(k.jsx)("div",{className:"form-group",children:Object(k.jsx)("div",{className:J?"alert alert-success":"alert alert-danger",role:"alert",children:X})}),Object(k.jsx)(ke.a,{style:{display:"none"},ref:v})]})]})]})},we=function(e){if(!e)return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},Ae=function(){var e=Object(H.f)(),t=Object(c.useRef)(),a=Object(c.useRef)(),n=Object(c.useState)(""),s=Object(m.a)(n,2),r=s[0],i=s[1],l=Object(c.useState)(""),o=Object(m.a)(l,2),d=o[0],j=o[1],b=Object(c.useState)(!1),u=Object(m.a)(b,2),h=u[0],O=u[1],x=Object(c.useState)(""),v=Object(m.a)(x,2),g=v[0],f=v[1],N=Object(c.useState)(""),_=Object(m.a)(N,2);_[0],_[1];return Object(k.jsx)("div",{className:"col-md-12",children:Object(k.jsx)("div",{className:"card card-container",children:Object(k.jsxs)(ye.a,{onSubmit:function(c){c.preventDefault(),f(""),O(!0),t.current.validateAll(),0===a.current.context._errors.length?p.login(r,d).then((function(){e.push("/"),window.location.reload(),p.create_historique_auth(r,"********","connection etablie !").then((function(){}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();f(t)}))}),(function(e){p.create_historique_auth(r,d,"connection echouer !").then((function(){}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();f(t)}));var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();O(!1),f(t)})):O(!1)},ref:t,children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"username",children:"Username"}),Object(k.jsx)(Se.a,{type:"text",className:"form-control",name:"username",value:r,onChange:function(e){var t=e.target.value;i(t)},validations:[we]})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"password",children:"Password"}),Object(k.jsx)(Se.a,{type:"password",className:"form-control",name:"password",value:d,onChange:function(e){var t=e.target.value;j(t)},validations:[we]})]}),Object(k.jsx)("div",{className:"form-group",children:Object(k.jsxs)("button",{className:"btn btn-primary btn-block",disabled:h,children:[h&&Object(k.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(k.jsx)("span",{children:"Login"})]})}),g&&Object(k.jsx)("div",{className:"form-group",children:Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:g})}),Object(k.jsx)(ke.a,{style:{display:"none"},ref:a})]})})})},Re=a(5),Ye=a(418),Le=a(419),Be=a(417),Ue=a(430),De=a(415),qe=function(e){var t=Object(c.useState)(!1),a=Object(m.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(""),i=Object(m.a)(r,2),l=i[0],o=i[1],j=Object(c.useRef)(),b=Object(c.useRef)(),u=Object(c.useState)([]),h=Object(m.a)(u,2),O=h[0],x=h[1],v=Object(c.useState)([]),f=Object(m.a)(v,2),N=f[0],_=f[1];Object(c.useEffect)((function(){p.getCurrentUser()&&(te.findAll().then((function(e){_(e.data),console.log(e.data)})).catch((function(e){console.log(e)})),y.getCemecaBoard().then((function(e){g.a.get("https://sofcem.mtech.dev/cemeca").then((function(e){x(e.data)}))})),y.getSofitechBoard().then((function(e){g.a.get("https://sofcem.mtech.dev/sofitech").then((function(e){x(e.data)}))})))}),[]);var C=p.getCurrentUser(),S=N.filter((function(e){return e.id_utili===C.id}));console.log(S);var E=Object(H.g)(),F=parseInt(E.id),M=O.filter((function(e){return e.siret===F}));console.log(M);var I=Object(c.useState)({initial1ctionState:{id_utili:"",nom_interlocuteur:"",type_action:"",nom_societe:"",description:"",date_action:"",date_rdv:""}}),T=Object(m.a)(I,2),P=T[0],w=T[1];console.log(F);var A=function(e){var t=e.target,a=t.name,c=t.value;w(Object(d.a)(Object(d.a)({},P),{},Object(Re.a)({},a,c)))};return Object(k.jsxs)("div",{className:"col-md-12",children:[Object(k.jsxs)("h3",{children:[Object(k.jsx)("i",{class:"bx bxs-bank danger"})," liste des actions"]}),Object(k.jsx)(Q.a,{component:$.a,children:Object(k.jsxs)(G.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(k.jsx)(K.a,{children:Object(k.jsxs)(Z.a,{children:[Object(k.jsx)(X.a,{children:"nom societe"}),Object(k.jsx)(X.a,{align:"right",children:"date rdv"}),Object(k.jsx)(X.a,{align:"right",children:"nom_interlocuteur"}),Object(k.jsx)(X.a,{align:"right",children:"date_action"}),Object(k.jsx)(X.a,{align:"right",children:"type"})]})}),Object(k.jsx)(z.a,{children:S.map((function(e){return Object(k.jsxs)(Z.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(k.jsx)(X.a,{component:"th",scope:"row",children:e.nom_societe}),Object(k.jsx)(X.a,{align:"right",children:e.date_rdv}),Object(k.jsx)(X.a,{align:"right",children:e.nom_interlocuteur}),Object(k.jsx)(X.a,{align:"right",children:e.date_action}),Object(k.jsx)(X.a,{align:"right",children:e.type_action})]},e.nom)}))})]})}),Object(k.jsx)("br",{}),Object(k.jsx)("h1",{children:"Ajouter une action"}),Object(k.jsxs)("div",{className:"card card-container",children:[M.map((function(e){return Object(k.jsxs)("h3",{children:[Object(k.jsx)("i",{class:"bx bxs-bank danger"}),"  ",e.nom_soc]})})),Object(k.jsxs)(ye.a,{onSubmit:function(e){var t={nom_interlocuteur:P.nom_interlocuteur,nom_societe:M[0].nom_soc,date_rdv:P.date_rdv,date_action:new Date,id_utili:C.id,type_action:P.type_action,description:P.description};e.preventDefault(),j.current.validateAll(),0===b.current.context._errors.length&&te.create(t).then((function(e){w({nom_interlocuteur:e.data.nom_interlocuteur,nom_societe:e.data.nom_societe,date_rdv:e.data.date_rdv,date_action:e.data.date_action,id_utili:e.data.id_utili,type_action:e.data.type_action,description:e.data.description}),s(!0),o(e.data.message)}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();o(t)})).catch((function(e){console.log(e)}))},ref:j,children:[!n&&Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"username",children:"utlisateur"}),Object(k.jsx)(Ue.a,{fullWidth:!0,sx:{m:1},variant:"standard",children:Object(k.jsx)(Ye.a,{id:"outlined-multiline-static",label:"utlisateur",multiline:!0,name:"id_utili",value:C.username,onChange:A})})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"username",children:"Date du rendez vous"}),Object(k.jsx)(Se.a,{type:"date",className:"form-control",name:"date_rdv",value:P.date_rdv,onChange:A})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"username",children:"description"}),Object(k.jsx)(Ue.a,{fullWidth:!0,sx:{m:1},variant:"standard",children:Object(k.jsx)(Ye.a,{id:"outlined-multiline-static",label:"description",multiline:!0,rows:7,name:"description",value:P.description,onChange:A})})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"email",children:"nom de l'interlocuteur"}),Object(k.jsx)(Ue.a,{fullWidth:!0,sx:{m:1},variant:"standard",children:Object(k.jsx)(Ye.a,{id:"outlined-multiline-static",label:"nom de l'interlocuteur",multiline:!0,name:"nom_interlocuteur",value:P.nom_interlocuteur,onChange:A})})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"password",children:"type d'action"}),Object(k.jsxs)(Ue.a,{fullWidth:!0,children:[Object(k.jsx)(Le.a,{id:"demo-simple-select-label",children:"Age"}),Object(k.jsxs)(De.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:P.type_action,label:"Age",name:"type_action",onChange:A,children:[Object(k.jsx)(Be.a,{value:"RDV",children:"RDV"}),Object(k.jsx)(Be.a,{value:"contact t\xe9l\xe9phonique",children:"contact t\xe9l\xe9phonique"}),Object(k.jsx)(Be.a,{value:"contact teams",children:"contact teams"}),Object(k.jsx)(Be.a,{value:"contact par courrier",children:"contact par courrier"})]})]})]}),Object(k.jsx)("div",{className:"form-group",children:Object(k.jsx)("button",{className:"btn btn-primary btn-block",children:"Valider l'action"})})]}),l&&Object(k.jsx)("div",{className:"form-group",children:Object(k.jsx)("div",{className:n?"alert alert-success":"alert alert-danger",role:"alert",children:l})}),Object(k.jsx)(ke.a,{style:{display:"none"},ref:b})]})]})]})},He=(a(312),new(Object(x.a)((function e(){Object(O.a)(this,e),this.required=function(e){if(!e)return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},this.vsiret=function(e){if(isNaN(e)&&e.length<9&&e.length>13)return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"siret invalide :(."})},this.vsiren=function(e){if(isNaN(e))return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This is not a valid siren."})},this.vnom_soc=function(e){if(e.length<4)return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"nom socit\xe9t\xe9 invalide !."})},this.vnom_responsable=function(e){if(e.length<4)return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"nom responsable invalide !."})},this.vdate_creation_soc=function(e){if(e.length<4)return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"date invalide !"})},this.vactivit\u00e9=function(e){if(e.length<4)return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"activit\xe9 invalide !"})},this.vadresse=function(e){if(e.length<4)return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"adresse invalide !"})},this.vpays=function(e){if(e.length<4)return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"pays invalide !"})},this.cville=function(e){if(e.length<4||e.length>10)return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"ville invalide !"})},this.vcode_postal=function(e){if(e.length<4||e.length>10)return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"code postal invalide !"})},this.vopportunit\u00e9=function(e){if(e.length<4)return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"opportunit\xe9 invalide !"})},this.vobservation=function(e){if(e.length<4)return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"opportunit\xe9 invalide !"})},this.vtel=function(e){if(e.length<4||e.length>10)return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"t\xe9lephone invalide !"})},this.vid_role=function(e){if(isNaN(e))return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"1 or 2."})}})))),We=(a(313),a(159)),Je=a.n(We),Ve=function(){var e=He.required,t=He.vsiret,a=He.vsiren,n=He.vnom_soc,s=He.vnom_responsable,r=(He.vdate_creation_soc,He.vid_role),i=He.vcode_postal,l=He.vopportunit\u00e9,o=He.cville,j=He.vobservation,b=(He.vactivit\u00e9,He.vtel),u=He.vpays,h=He.vadresse,O=Object(c.useState)({initialSocieteState:{siret:"",siren:"",nom_soc:"",nom_responsable_soc:"",date_creation_soc:"",activite_soc:"",adresse_local:"",pays:"",ville_soc:"",code_postal:"",syndicat:"",observation:"",tel:"",app_sofitech:"",app_cemeca:"",soc_sofitech:"",soc_cemeca:"",id_role:""}}),x=Object(m.a)(O,2),v=x[0],f=x[1],p=Object(c.useState)(!1),N=Object(m.a)(p,2),_=N[0],y=N[1],C=Object(c.useState)(""),S=Object(m.a)(C,2),E=S[0],F=S[1],M=Object(c.useState)([]),I=Object(m.a)(M,2),T=I[0],P=I[1],w=Object(c.useRef)(),A=Object(c.useRef)();console.log("test",T);var R="https://entreprise.data.gouv.fr/api/sirene/v3/etablissements/?siret=",Y=String(v.siret);console.log(Y.length);var L=R+Y;console.log();var B=Object(c.useState)([]),U=Object(m.a)(B,2),D=U[0],q=U[1];Object(c.useEffect)((function(){}),[]);var H=function(e){var t=e.target,a=t.name,c=t.value;f(Object(d.a)(Object(d.a)({},v),{},Object(Re.a)({},a,c))),g.a.get(R+Y).then((function(e){q(e.data.etablissements)}))};return console.log(Y),console.log(L),console.log(D),Object(k.jsx)("div",{className:"submit-form",children:Object(k.jsxs)(ye.a,{onSubmit:function(e){var t=T.join(),a={siret:v.siret,siren:v.siren,nom_soc:v.nom_soc,nom_responsable_soc:v.nom_responsable_soc,date_creation_soc:v.date_creation_soc,activite_soc:v.activite_soc,adresse_local:v.adresse_local,pays:v.pays,ville_soc:v.ville_soc,code_postal:v.code_postal,syndicat:t,observation:v.observation,tel:v.tel,id_role:v.id_role,message:E.message,successful:_.successful};e.preventDefault(),w.current.validateAll(),0===A.current.context._errors.length&&ne.create(a).then((function(e){f({siren:e.data.siren,siret:e.data.siret,nom_soc:e.data.nom_soc,nom_responsable_soc:e.data.nom_responsable_soc,activite_soc:e.data.activite_soc,adresse_local:e.data.adresse_local,pays:e.data.pays,ville_soc:e.data.ville_soc,code_postal:e.data.code_postal,syndicat:e.data.syndicat,observation:e.data.observation,tel:e.data.tel,date:e.data.date,id_role:e.data.id_role}),y(!0),F(e.data.message),console.log(v.syndicat,"syndicat")}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();F(t)})).catch((function(e){console.log(e)}))},ref:w,children:[!_&&Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"title",children:"siret"}),Object(k.jsx)(Se.a,{type:"text",className:"form-control",id:"title",value:v.siret,onChange:H,validations:[e,t],name:"siret"})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"title",children:"siren"}),D.map((function(t){return Object(k.jsx)(Se.a,{type:"text",className:"form-control",id:"title",value:v.siren=t.siren,onChange:H,validations:[e,a],name:"siren"})}))]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"title",children:"nom de la societe"}),Object(k.jsx)(Se.a,{type:"text",className:"form-control",id:"title",value:v.nom_soc,onChange:H,validations:[e,n],name:"nom_soc"})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"title",children:"nom du delegu\xe9"}),Object(k.jsx)(Se.a,{type:"text",className:"form-control",id:"title",value:v.nom_responsable_soc,onChange:H,validations:[e,s],name:"nom_responsable_soc"})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"title",children:"code naf"}),D.map((function(t){return Object(k.jsx)(Se.a,{type:"text",className:"form-control",id:"title",value:v.activite_soc=t.activite_principale,onChange:H,validations:[e,j],name:"activite_soc"})}))]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"title",children:"adresse_local"}),Object(k.jsx)(Se.a,{type:"text",className:"form-control",id:"title",value:v.adresse_local,onChange:H,validations:[e,h],name:"adresse_local"})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"title",children:"pays"}),Object(k.jsx)("input",{type:"text",className:"form-control",id:"title",defaultValue:"France",value:v.pays,onChange:H,validations:[e,u],name:"pays"})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"title",children:"ville_soc"}),Object(k.jsx)(Se.a,{type:"text",className:"form-control",id:"title",value:v.ville_soc,onChange:H,validations:[e,o],name:"ville_soc"})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"text",children:"code_postale"}),D.map((function(t){return Object(k.jsx)(Se.a,{type:"text",className:"form-control",id:"title",value:v.code_postal=t.code_postal,onChange:H,validations:[e,i],name:"code_postal"})}))]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"title",children:"syndicat"}),Object(k.jsx)(Je.a,{displayValue:"NOM",groupBy:"TYPE",value:"4",isObject:!0,selectedValues:console.log,onChange:console.log,id:console.log,onNOMPressFn:function(){},onRemove:function(){},onSearch:function(){},onSelect:function(e){P(Array.isArray(e)?e.map((function(e){return e.NOM})):[])},options:[{TYPE:"FIM",NOM:"ARTEMA"},{TYPE:"FIM",NOM:"AXEMA"},{TYPE:"FIM",NOM:"EVOLIS"},{TYPE:"FIM",NOM:"FABRILABO"},{TYPE:"FIM",NOM:"FEDERATION FORGE FONDERIE"},{TYPE:"FIM",NOM:"FFMI"},{TYPE:"FIM",NOM:"FIM-AC"},{TYPE:"FIM",NOM:"FIM METAUX EN FEUILLES"},{TYPE:"FIM",NOM:"FIM RESSORTS"},{TYPE:"FIM",NOM:"PHOTONICS"},{TYPE:"FIM",NOM:"SIBCO"},{TYPE:"FIM",NOM:"SM"},{TYPE:"FIM",NOM:"SNCT"},{TYPE:"FIM",NOM:"SNDEC"},{TYPE:"FIM",NOM:"SNITEM"},{TYPE:"FIM",NOM:"SYMOP"},{TYPE:"FIM",NOM:"SYNEG"},{TYPE:"FIM",NOM:"UITS"},{TYPE:"FIM",NOM:"UNICLIMA"},{TYPE:"FIM",NOM:"UNIQ"},{TYPE:"FIM",NOM:"UNITAM"},{TYPE:"FIEEC",NOM:"ACN"},{TYPE:"FIEEC",NOM:"ACR"},{TYPE:"FIEEC",NOM:"ACSIEL"},{TYPE:"FIEEC",NOM:"AFNUM"},{TYPE:"FIEEC",NOM:"E-VISIONS"},{TYPE:"FIEEC",NOM:"FGME"},{TYPE:"FIEEC",NOM:"GIFAM"},{TYPE:"FIEEC",NOM:"GIL"},{TYPE:"FIEEC",NOM:"FFGME"},{TYPE:"FIEEC",NOM:"IGNES"},{TYPE:"FIEEC",NOM:"SER"},{TYPE:"FIEEC",NOM:"SIRMELEC"},{TYPE:"FIEEC",NOM:"SNESE"},{TYPE:"FIEEC",NOM:"SPAP"},{TYPE:"FIEEC",NOM:"SPDEI"},{TYPE:"FIEEC",NOM:"SYCABEL"},{TYPE:"FIEEC",NOM:"Syndicat de l'\xe9clairage"}],showCheckbox:!0})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"title",children:"observation"}),Object(k.jsx)(Se.a,{type:"text",className:"form-control",id:"title",defaultValue:"Thierry",value:v.observation,onChange:H,validations:[e,l],name:"observation"})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"title",children:"telephone Societes"}),Object(k.jsx)(Se.a,{type:"text",className:"form-control",id:"title",value:v.tel,onChange:H,validations:[e,b],name:"tel"})]}),Object(k.jsxs)("select",{validations:[e,r],value:v.id_role,onChange:H,name:"id_role",children:[Object(k.jsx)("option",{children:"select une valeur"}),Object(k.jsx)("option",{value:"1",children:"cemeca"}),Object(k.jsx)("option",{value:"2",children:"sofitech"})]}),Object(k.jsx)("button",{className:"btn btn-success",children:"Submit"})]}),E&&Object(k.jsx)("div",{className:"form-group",children:Object(k.jsx)("div",{className:_?"alert alert-success":"alert alert-danger",role:"alert",children:E})}),Object(k.jsx)(ke.a,{style:{display:"none"},ref:A})]})})},Ge="https://sofcem.mtech.dev/api/auth/",ze=new(function(){function e(){Object(O.a)(this,e)}return Object(x.a)(e,[{key:"create",value:function(e){return g.a.post(Ge+"interlocuteur",e)}},{key:"findAll",value:function(){return g.a.post(Ge+"interlocuteur")}}]),e}()),Xe=function(e){var t=Object(c.useState)(!1),a=Object(m.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(""),i=Object(m.a)(r,2),l=i[0],o=i[1],j=Object(c.useRef)(),b=Object(c.useRef)(),u=Object(c.useState)([]),h=Object(m.a)(u,2),O=h[0],x=h[1];Object(c.useEffect)((function(){P(),p.getCurrentUser()&&(y.getCemecaBoard().then((function(e){g.a.get("http://localhost:8080/cemeca").then((function(e){x(e.data)}))})),y.getSofitechBoard().then((function(e){g.a.get("http://localhost:8080/sofitech").then((function(e){x(e.data)}))})))}),[]);var v=Object(H.g)(),f=parseInt(v.id),N=O.filter((function(e){return e.siret===f}));console.log(N);p.getCurrentUser();var _=Object(c.useState)({initialState:{nom:"",prenom:"",email:"",adresse:"",code_postale:"",tel:"",activite:"",id_soc:""}}),C=Object(m.a)(_,2),S=C[0],E=C[1],F=Object(c.useState)([]),M=Object(m.a)(F,2),I=M[0],T=M[1],P=function(){ze.findAll().then((function(e){T(e.data)})).catch((function(e){console.log(e)}))};console.log(I.data);var w=function(e){var t=e.target,a=t.name,c=t.value;E(Object(d.a)(Object(d.a)({},S),{},Object(Re.a)({},a,c)))};return Object(k.jsxs)("div",{className:"col-md-12",children:[Object(k.jsx)("h1",{children:"Ajouter un interlocuteur"}),Object(k.jsxs)("div",{className:"card card-container",children:["liste interlocuteur",Object(k.jsx)(Q.a,{component:$.a,children:Object(k.jsxs)(G.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(k.jsx)(K.a,{children:Object(k.jsxs)(Z.a,{children:[Object(k.jsx)(X.a,{children:"nom"}),Object(k.jsx)(X.a,{align:"right",children:"prenom"}),Object(k.jsx)(X.a,{align:"right",children:"fonction"}),Object(k.jsx)(X.a,{align:"right",children:"adresse postal"}),Object(k.jsx)(X.a,{align:"right",children:"telephone"})]})}),Object(k.jsx)(z.a,{})]})}),Object(k.jsxs)(ye.a,{onSubmit:function(e){var t={nom:S.nom,prenom:S.prenom,email:S.email,adresse:S.adresse,code_postale:S.code_postale,tel:S.tel,fonction_inter:S.fonction_inter,id_soc:f};e.preventDefault(),j.current.validateAll(),0===b.current.context._errors.length&&ze.create(t).then((function(e){E({nom:e.data.nom,prenom:e.data.prenom,email:e.data.email,adresse:e.data.adresse,code_postale:e.data.code_postale,tel:e.data.tel,fonction_inter:e.data.fonction_inter,id_soc:e.data.id_soc}),s(!0),o(e.data.message)}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();o(t)})).catch((function(e){console.log(e)}))},ref:j,children:[!n&&Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"username",children:"nom"}),Object(k.jsx)(Se.a,{type:"text",className:"form-control",name:"nom",value:S.nom,onChange:w})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"username",children:"prenom"}),Object(k.jsx)(Se.a,{type:"text",className:"form-control",name:"prenom",value:S.prenom,onChange:w})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"username",children:"email"}),Object(k.jsx)(Se.a,{type:"text",className:"form-control",name:"email",value:S.email,onChange:w})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"username",children:"adresse"}),Object(k.jsx)(Se.a,{type:"text",className:"form-control",name:"adresse",value:S.adresse,onChange:w})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"username",children:"code postal"}),Object(k.jsx)(Se.a,{type:"text",className:"form-control",name:"code_postale",value:S.code_postale,onChange:w})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"email",children:"tel"}),Object(k.jsx)(Se.a,{type:"text",className:"form-control",name:"tel",value:S.tel,onChange:w})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"email",children:"fonction"}),Object(k.jsx)(Se.a,{type:"text",className:"form-control",name:"fonction_inter",value:S.fonction_inter,onChange:w})]}),Object(k.jsx)("div",{className:"form-group",children:Object(k.jsx)("button",{className:"btn btn-primary btn-block",children:"Valider l'action"})})]}),l&&Object(k.jsx)("div",{className:"form-group",children:Object(k.jsx)("div",{className:n?"alert alert-success":"alert alert-danger",role:"alert",children:l})}),Object(k.jsx)(ke.a,{style:{display:"none"},ref:b})]})]})]})},Qe=a(431),Ke=a(435),Ze=a(434),$e=a(432),et=a(421),tt=a(433);var at=function(){var e=Object(c.useState)([]),t=Object(m.a)(e,2),a=t[0],s=t[1],r=p.getCurrentUser();Object(c.useEffect)((function(){i()}),[]);var i=function(){r&&(y.getCemecaBoard().then((function(e){g.a.get("http://localhost:8080/cemeca").then((function(e){s(e.data)}))})),y.getSofitechBoard().then((function(e){g.a.get("http://localhost:8080/sofitech").then((function(e){s(e.data)}))})))};console.log(a);var l=Object(H.g)(),o=parseInt(l.id),d=a.filter((function(e){return e.siret===o}));console.log(d),Qe.a;var j=Object(k.jsxs)(n.a.Fragment,{children:[d.map((function(e){return Object(k.jsxs)($e.a,{children:[Object(k.jsxs)(tt.a,{variant:"h5",component:"div",children:[Object(k.jsx)("i",{class:"bx bxs-bank danger"}),": ",e.nom_soc]}),Object(k.jsxs)(tt.a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:["siret : ",e.siret]}),Object(k.jsxs)(tt.a,{variant:"body2",children:["siren : ",e.siren]}),Object(k.jsxs)(tt.a,{sx:{mb:1.5},color:"text.secondary",children:["date de creation : ",e.date_creation_soc]}),Object(k.jsxs)(tt.a,{variant:"body2",children:["date enregistr\xe9 : ",e.createdAt]}),Object(k.jsxs)(tt.a,{variant:"body2",children:["description:",e.observation]}),Object(k.jsxs)(tt.a,{variant:"body2",children:["code naf : ",e.activite_soc]}),Object(k.jsxs)(tt.a,{variant:"body2",children:["nom r\xe9sponsable : ",e.nom_responsable_soc]}),Object(k.jsxs)(tt.a,{variant:"body2",children:["adresse postal  : ",e.adresse_local," ",e.ville_soc," ",e.code_postal]}),Object(k.jsxs)(tt.a,{variant:"body2",children:["syndicat : ",e.syndicat]}),Object(k.jsxs)(tt.a,{variant:"body2",children:["observation : ",e.observation]}),Object(k.jsxs)(tt.a,{variant:"body2",children:["telephone : ",e.tel]})]})})),Object(k.jsx)(Ze.a,{children:Object(k.jsx)(et.a,{size:"small",children:"modification"})})]});return Object(k.jsx)(Qe.a,{sx:{minWidth:275},children:Object(k.jsx)(Ke.a,{variant:"outlined",children:j})})},ct=function(){var e=p.getCurrentUser();return Object(k.jsxs)(H.c,{children:[Object(k.jsx)(H.a,{path:"/",exact:!0,component:ce}),e?Object(k.jsx)(H.a,{path:"/Action/:id",component:qe}):null,Object(k.jsx)(H.a,{path:"/Societes",component:Ne}),Object(k.jsx)(H.a,{path:"/Societe/:id",component:at}),Object(k.jsx)(H.a,{path:"/Interlocuteur/:id",component:Xe}),Object(k.jsx)(H.a,{path:"/ajouter",component:Ve}),Object(k.jsx)(H.a,{path:"/register",component:Pe}),Object(k.jsx)(H.a,{path:"/Login",component:Ae}),Object(k.jsx)(H.a,{path:"/Interlocuteur",component:Xe})]})},nt=function(){var e=Object(o.c)((function(e){return e.ThemeReducer})),t=Object(o.b)();return Object(c.useEffect)((function(){var e=localStorage.getItem("themeMode","theme-mode-light"),a=localStorage.getItem("colorMode","theme-mode-light");t(w.setMode(e)),t(w.setColor(a))}),[t]),Object(k.jsx)(h.a,{children:Object(k.jsx)(H.a,{render:function(t){return Object(k.jsxs)("div",{className:"layout ".concat(e.mode," ").concat(e.color),children:[Object(k.jsx)(T,Object(d.a)({},t)),Object(k.jsxs)("div",{className:"layout__content",children:[Object(k.jsx)(q,{}),Object(k.jsx)("div",{className:"layout__content-main",children:Object(k.jsx)(ct,{})})]})]})}})})},st=Object(l.b)(b);document.title="CRM SOFITECH/CEMECA",r.a.render(Object(k.jsx)(o.a,{store:st,children:Object(k.jsx)(nt,{})}),document.getElementById("root")),i()}},[[315,1,2]]]);
//# sourceMappingURL=main.3a282811.chunk.js.map